/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _lisp = __webpack_require__(1);\n\nvar _lisp2 = _interopRequireDefault(_lisp);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Interpreter = (0, _lisp2.default)('(+ (/ 8 2) (* 3 3))');\nconsole.log('Lisp>: ', Interpreter.run());//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAuanM/ZDhlZSJdLCJuYW1lcyI6WyJJbnRlcnByZXRlciIsImNvbnNvbGUiLCJsb2ciLCJydW4iXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7OztBQUVBLElBQUlBLGNBQWMsb0JBQUsscUJBQUwsQ0FBbEI7QUFDQUMsUUFBUUMsR0FBUixDQUFZLFNBQVosRUFBdUJGLFlBQVlHLEdBQVosRUFBdkIiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMaXNwIGZyb20gJy4vc3JjL2xpc3AuanMnO1xuXG5sZXQgSW50ZXJwcmV0ZXIgPSBMaXNwKCcoKyAoLyA4IDIpICgqIDMgMykpJyk7XG5jb25zb2xlLmxvZygnTGlzcD46ICcsIEludGVycHJldGVyLnJ1bigpKTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (code) {\n    var api = {};\n\n    var state = (0, _state2.default)(code);\n\n    var ast = Programm(callExpression()(state));\n    var newAst = transformer(ast);\n\n    api.code = code;\n    api.state = state;\n    api.ast = ast;\n    api.newAst = newAst;\n\n    api.run = function () {\n        return Interpreter(newAst);\n    };\n\n    return api;\n};\n\nvar _parser = __webpack_require__(2);\n\nvar _context = __webpack_require__(3);\n\nvar _context2 = _interopRequireDefault(_context);\n\nvar _state = __webpack_require__(5);\n\nvar _state2 = _interopRequireDefault(_state);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * atom parser\n */\nfunction leftParen() {\n    return (0, _parser.ch)('(');\n}\n\nfunction rightParen() {\n    return (0, _parser.ch)(')');\n}\n\nfunction int() {\n    return (0, _parser.action)((0, _parser.range)('0', '9'), function (ast) {\n        return {\n            type: 'NumberLiteral',\n            value: ast\n        };\n    });\n}\n\nfunction identifer() {\n    var result = (0, _parser.repeat1)((0, _parser.choice)((0, _parser.range)('a', 'z'), (0, _parser.range)('A', 'Z')));\n    return (0, _parser.action)(result, function (ast) {\n        return ast.join('');\n    });\n}\n\n/**\n * simple expression (add 2 4)\n */\nfunction atomCallExpression() {\n    return function (state) {\n        var result = (0, _parser.wsequence)(leftParen(), (0, _parser.choice)(identifer(), operator()), int(), int(), rightParen())(state);\n        return {\n            remaining: result.remaining,\n            matched: result.matched,\n            ast: {\n                type: 'CallExpression',\n                name: result.ast[1],\n                params: [result.ast[2], result.ast[3]]\n            }\n        };\n    };\n}\n\n/**\n * (add 3 (sub 4 1))\n */\nfunction callExpression() {\n    return function (state) {\n        var result = (0, _parser.wsequence)(leftParen(), (0, _parser.choice)(identifer(), operator()), (0, _parser.choice)(int(), atomCallExpression()), (0, _parser.choice)(int(), atomCallExpression()), rightParen())(state);\n\n        if (!result) {\n            return result;\n        }\n        return {\n            type: 'CallExpression',\n            name: result.ast[1],\n            params: [result.ast[2], result.ast[3]]\n        };\n    };\n}\n\n/**\n * 空语句\n */\nfunction nilExpression() {\n    var result = (0, _parser.wsequence)(leftParen(), rightParen());\n    if (!result) {\n        return result;\n    }\n\n    return {\n        type: 'nilExpression'\n    };\n}\n//test: ((((()))))\n\n/**\n * 多层级语句\n */\nfunction mutipCallExpression() {\n    var result = (0, _parser.wsequence)(leftParen(), CallExpression(), rightParen());\n    if (!result) {\n        return result;\n    }\n\n    return {\n        type: 'nilExpression'\n    };\n}\n\nconsole.log(nilExpression()((0, _state2.default)('()')));\n\n/**\n * 四则运算, 等同于函数调用\n */\nfunction operator() {\n    return (0, _parser.choice)('+', '-', '*', '/');\n}\n\n/**\n * 变量声明、赋值\n * (let (x 3))\n */\nfunction VariableDeclaration() {}\n\n/**\n * Program\n */\nfunction Programm(ast) {\n    return {\n        type: 'Programm',\n        body: [ast]\n    };\n}\n\nfunction traverser(ast, visitor) {\n    function traverseArray(arr, parent) {\n        arr.forEach(function (child) {\n            traverseNode(child, parent);\n        });\n    }\n\n    function traverseNode(node, parent) {\n        var method = visitor[node.type];\n        if (method) {\n            method(node, parent);\n        }\n\n        switch (node.type) {\n            case 'Programm':\n                traverseArray(node.body, node);\n                break;\n            case 'CallExpression':\n                traverseArray(node.params, node);\n                break;\n            case 'NumberLiteral':\n                break;\n            default:\n                {\n                    throw new TypeError(node.type);\n                }\n        }\n    }\n\n    traverseNode(ast, null);\n}\n\nfunction transformer(ast) {\n    var newAst = {\n        type: 'Programm',\n        body: []\n    };\n\n    ast._context = newAst.body;\n\n    traverser(ast, {\n        NumberLiteral: function NumberLiteral(node, parent) {\n            parent._context.push({\n                type: 'NumberLiteral',\n                value: node.value\n            });\n        },\n        CallExpression: function CallExpression(node, parent) {\n            var expression = {\n                type: 'CallExpression',\n                callee: {\n                    type: 'Identifier',\n                    name: node.name\n                },\n                arguments: []\n            };\n            node._context = expression.arguments;\n            if (parent.type !== 'CallExpression') {\n                expression = {\n                    type: 'ExpressionStatement',\n                    expression: expression\n                };\n            }\n\n            parent._context.push(expression);\n        }\n    });\n\n    return newAst;\n}\n\nfunction codeGenerator(node) {\n    switch (node.type) {\n        case 'Programm':\n            return node.body.map(codeGenerator).join('\\n');\n        case 'ExpressionStatement':\n            return codeGenerator(node.expression) + ';';\n        case 'CallExpression':\n            return codeGenerator(node.callee) + '(' + node.arguments.map(codeGenerator).join(', ') + ')';\n        case 'Identifier':\n            return node.name;\n        // For `NumberLiterals` we'll just return the `node`'s value.\n        case 'NumberLiteral':\n            return node.value;\n\n        // And if we haven't recognized the node, we'll throw an error.\n        default:\n            throw new TypeError(node.type);\n    }\n}\n\n/**\n * runtime helper\n */\nvar runtime = {\n    operator: {\n        '+': function _(p1, p2) {\n            return Number(p1) + Number(p2);\n        },\n        '-': function _(p1, p2) {\n            return Number(p1) - Number(p2);\n        },\n        '*': function _(p1, p2) {\n            return Number(p1) * Number(p2);\n        },\n        '/': function _(p1, p2) {\n            return Number(p1) / Number(p2);\n        }\n    }\n};\n\n/**\n * @private helper function\n */\nfunction oneOf(val) {\n    var arr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    var isMatch = false;\n    arr.forEach(function (key) {\n        if (val == key) {\n            isMatch = true;\n        }\n    });\n\n    return isMatch;\n}\n\n/**\n * 全局上下文\n */\nvar globalContext = new _context2.default();\nvar currentContext = globalContext;\n\nvar operators = ['+', '-', '*', '/'];\n\nfunction Interpreter(node) {\n    switch (node.type) {\n        case 'Programm':\n            return Interpreter(node.body[0]);\n        case 'ExpressionStatement':\n            {\n                return Interpreter(node.expression);\n            }\n        case 'CallExpression':\n            {\n                var callee = Interpreter(node.callee);\n                if (oneOf(callee, operators)) {\n                    return runtime.operator[callee](Interpreter(node.arguments[0]), Interpreter(node.arguments[1]));\n                } else {\n                    return 0;\n                }\n            }\n        case 'Identifier':\n            return node.name;\n        // For `NumberLiterals` we'll just return the `node`'s value.\n        case 'NumberLiteral':\n            return node.value;\n\n        // And if we haven't recognized the node, we'll throw an error.\n        default:\n            {\n                throw new TypeError(node.type);\n            }\n    }\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGlzcC5qcz8wMTkzIl0sIm5hbWVzIjpbImNvZGUiLCJhcGkiLCJzdGF0ZSIsImFzdCIsIlByb2dyYW1tIiwiY2FsbEV4cHJlc3Npb24iLCJuZXdBc3QiLCJ0cmFuc2Zvcm1lciIsInJ1biIsIkludGVycHJldGVyIiwibGVmdFBhcmVuIiwicmlnaHRQYXJlbiIsImludCIsInR5cGUiLCJ2YWx1ZSIsImlkZW50aWZlciIsInJlc3VsdCIsImpvaW4iLCJhdG9tQ2FsbEV4cHJlc3Npb24iLCJvcGVyYXRvciIsInJlbWFpbmluZyIsIm1hdGNoZWQiLCJuYW1lIiwicGFyYW1zIiwibmlsRXhwcmVzc2lvbiIsIm11dGlwQ2FsbEV4cHJlc3Npb24iLCJDYWxsRXhwcmVzc2lvbiIsImNvbnNvbGUiLCJsb2ciLCJWYXJpYWJsZURlY2xhcmF0aW9uIiwiYm9keSIsInRyYXZlcnNlciIsInZpc2l0b3IiLCJ0cmF2ZXJzZUFycmF5IiwiYXJyIiwicGFyZW50IiwiZm9yRWFjaCIsImNoaWxkIiwidHJhdmVyc2VOb2RlIiwibm9kZSIsIm1ldGhvZCIsIlR5cGVFcnJvciIsIl9jb250ZXh0IiwiTnVtYmVyTGl0ZXJhbCIsInB1c2giLCJleHByZXNzaW9uIiwiY2FsbGVlIiwiYXJndW1lbnRzIiwiY29kZUdlbmVyYXRvciIsIm1hcCIsInJ1bnRpbWUiLCJwMSIsInAyIiwiTnVtYmVyIiwib25lT2YiLCJ2YWwiLCJpc01hdGNoIiwia2V5IiwiZ2xvYmFsQ29udGV4dCIsImN1cnJlbnRDb250ZXh0Iiwib3BlcmF0b3JzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7a0JBNFZlLFVBQVVBLElBQVYsRUFBZ0I7QUFDM0IsUUFBSUMsTUFBTSxFQUFWOztBQUVBLFFBQUlDLFFBQVEscUJBQUdGLElBQUgsQ0FBWjs7QUFFQSxRQUFJRyxNQUFNQyxTQUFTQyxpQkFBaUJILEtBQWpCLENBQVQsQ0FBVjtBQUNBLFFBQUlJLFNBQVNDLFlBQVlKLEdBQVosQ0FBYjs7QUFF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O0FBQ0g7QUF2Qkw7QUF5QkgiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gICAgY2gsIHRva2VuLFxuICAgIHJhbmdlLFxuICAgIHNlcXVlbmNlLFxuICAgIHdzZXF1ZW5jZSxcbiAgICBjaG9pY2UsXG4gICAgcmVwZWF0MSxcbiAgICBhY3Rpb25cbn0gZnJvbSAnLi9wYXJzZXIuanMnO1xuXG5pbXBvcnQgQ29udGV4dCBmcm9tICcuL2NvbnRleHQuanMnO1xuXG5pbXBvcnQgcHMgZnJvbSAnLi9zdGF0ZS5qcyc7XG5cbi8qKlxuICogYXRvbSBwYXJzZXJcbiAqL1xuZnVuY3Rpb24gbGVmdFBhcmVuICgpIHtcbiAgICByZXR1cm4gY2goJygnKTtcbn1cblxuZnVuY3Rpb24gcmlnaHRQYXJlbiAoKSB7XG4gICAgcmV0dXJuIGNoKCcpJyk7XG59XG5cbmZ1bmN0aW9uIGludCAoKSB7XG4gICAgcmV0dXJuIGFjdGlvbihyYW5nZSgnMCcsICc5JyksIGZ1bmN0aW9uKGFzdCl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnTnVtYmVyTGl0ZXJhbCcsXG4gICAgICAgICAgICB2YWx1ZTogYXN0XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gaWRlbnRpZmVyICgpIHtcbiAgICB2YXIgcmVzdWx0ID0gcmVwZWF0MShcbiAgICAgICAgICAgICAgICBjaG9pY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZSgnYScsICd6JyksXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZSgnQScsICdaJylcbiAgICAgICAgICAgICAgICAgICAgKSAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIClcbiAgICByZXR1cm4gYWN0aW9uKHJlc3VsdCwgZnVuY3Rpb24oYXN0KXtcbiAgICAgICAgcmV0dXJuIGFzdC5qb2luKCcnKTtcbiAgICB9KVxufVxuXG4vKipcbiAqIHNpbXBsZSBleHByZXNzaW9uIChhZGQgMiA0KVxuICovXG5mdW5jdGlvbiBhdG9tQ2FsbEV4cHJlc3Npb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHdzZXF1ZW5jZShcbiAgICAgICAgICAgICAgICBsZWZ0UGFyZW4oKSxcbiAgICAgICAgICAgICAgICBjaG9pY2UoXG4gICAgICAgICAgICAgICAgICAgIGlkZW50aWZlcigpLFxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRvcigpXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgaW50KCksXG4gICAgICAgICAgICAgICAgaW50KCksXG4gICAgICAgICAgICAgICAgcmlnaHRQYXJlbigpXG4gICAgICAgICAgICApKHN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlbWFpbmluZzogcmVzdWx0LnJlbWFpbmluZyxcbiAgICAgICAgICAgIG1hdGNoZWQ6IHJlc3VsdC5tYXRjaGVkLFxuICAgICAgICAgICAgYXN0OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ0NhbGxFeHByZXNzaW9uJyxcbiAgICAgICAgICAgICAgICBuYW1lOiByZXN1bHQuYXN0WzFdLFxuICAgICAgICAgICAgICAgIHBhcmFtczogW1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXN0WzJdLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXN0WzNdICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuLyoqXG4gKiAoYWRkIDMgKHN1YiA0IDEpKVxuICovXG5mdW5jdGlvbiBjYWxsRXhwcmVzc2lvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gd3NlcXVlbmNlKFxuICAgICAgICAgICAgICAgIGxlZnRQYXJlbigpLFxuICAgICAgICAgICAgICAgIGNob2ljZShcbiAgICAgICAgICAgICAgICAgICAgaWRlbnRpZmVyKCksXG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yKClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBjaG9pY2UoXG4gICAgICAgICAgICAgICAgICAgIGludCgpLFxuICAgICAgICAgICAgICAgICAgICBhdG9tQ2FsbEV4cHJlc3Npb24oKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGNob2ljZShcbiAgICAgICAgICAgICAgICAgICAgaW50KCksXG4gICAgICAgICAgICAgICAgICAgIGF0b21DYWxsRXhwcmVzc2lvbigpXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgcmlnaHRQYXJlbigpXG4gICAgICAgICAgICApKHN0YXRlKTtcblxuICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ0NhbGxFeHByZXNzaW9uJyxcbiAgICAgICAgICAgIG5hbWU6IHJlc3VsdC5hc3RbMV0sXG4gICAgICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFzdFsyXSxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFzdFszXSAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgfTtcbiAgICB9XG59XG5cbi8qKlxuICog56m66K+t5Y+lXG4gKi9cbmZ1bmN0aW9uIG5pbEV4cHJlc3Npb24gKCkge1xuICAgIGxldCByZXN1bHQgPSB3c2VxdWVuY2UoXG4gICAgICAgICAgICBsZWZ0UGFyZW4oKSxcbiAgICAgICAgICAgIHJpZ2h0UGFyZW4oKVxuICAgICAgICApXG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnbmlsRXhwcmVzc2lvbidcbiAgICB9XG59XG4vL3Rlc3Q6ICgoKCgoKSkpKSlcblxuLyoqXG4gKiDlpJrlsYLnuqfor63lj6VcbiAqL1xuZnVuY3Rpb24gbXV0aXBDYWxsRXhwcmVzc2lvbiAoKSB7XG4gICAgbGV0IHJlc3VsdCA9IHdzZXF1ZW5jZShcbiAgICAgICAgICAgIGxlZnRQYXJlbigpLFxuICAgICAgICAgICAgQ2FsbEV4cHJlc3Npb24oKSxcbiAgICAgICAgICAgIHJpZ2h0UGFyZW4oKVxuICAgICAgICApXG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnbmlsRXhwcmVzc2lvbidcbiAgICB9XG59IFxuXG5jb25zb2xlLmxvZyhuaWxFeHByZXNzaW9uKCkocHMoJygpJykpKTtcblxuLyoqXG4gKiDlm5vliJnov5DnrpcsIOetieWQjOS6juWHveaVsOiwg+eUqFxuICovXG5mdW5jdGlvbiBvcGVyYXRvciAoKSB7XG4gICAgcmV0dXJuIGNob2ljZShcbiAgICAgICAgICAgICAgICAnKycsXG4gICAgICAgICAgICAgICAgJy0nLFxuICAgICAgICAgICAgICAgICcqJyxcbiAgICAgICAgICAgICAgICAnLydcbiAgICAgICAgICAgICk7XG59XG5cbi8qKlxuICog5Y+Y6YeP5aOw5piO44CB6LWL5YC8XG4gKiAobGV0ICh4IDMpKVxuICovXG5mdW5jdGlvbiBWYXJpYWJsZURlY2xhcmF0aW9uICgpIHtcblxufVxuXG4vKipcbiAqIFByb2dyYW1cbiAqL1xuZnVuY3Rpb24gUHJvZ3JhbW0gKGFzdCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdQcm9ncmFtbScsXG4gICAgICAgIGJvZHk6IFtcbiAgICAgICAgICAgIGFzdFxuICAgICAgICBdXG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uIHRyYXZlcnNlciAoYXN0LCB2aXNpdG9yKSB7XG4gICAgZnVuY3Rpb24gdHJhdmVyc2VBcnJheSAoYXJyLCBwYXJlbnQpIHtcbiAgICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24oY2hpbGQpe1xuICAgICAgICAgICAgdHJhdmVyc2VOb2RlKGNoaWxkLCBwYXJlbnQpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRyYXZlcnNlTm9kZSAobm9kZSwgcGFyZW50KSB7XG4gICAgICAgIHZhciBtZXRob2QgPSB2aXNpdG9yW25vZGUudHlwZV07XG4gICAgICAgIGlmIChtZXRob2QpIHtcbiAgICAgICAgICAgIG1ldGhvZChub2RlLCBwYXJlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChub2RlLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ1Byb2dyYW1tJzpcbiAgICAgICAgICAgICAgICB0cmF2ZXJzZUFycmF5KG5vZGUuYm9keSwgbm9kZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdDYWxsRXhwcmVzc2lvbic6XG4gICAgICAgICAgICAgICAgdHJhdmVyc2VBcnJheShub2RlLnBhcmFtcywgbm9kZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdOdW1iZXJMaXRlcmFsJzpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKG5vZGUudHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0cmF2ZXJzZU5vZGUoYXN0LCBudWxsKTtcbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtZXIgKGFzdCkge1xuICAgIHZhciBuZXdBc3QgPSB7XG4gICAgICAgIHR5cGU6ICdQcm9ncmFtbScsXG4gICAgICAgIGJvZHk6IFtdXG4gICAgfVxuXG4gICAgYXN0Ll9jb250ZXh0ID0gbmV3QXN0LmJvZHk7XG5cbiAgICB0cmF2ZXJzZXIoYXN0LCB7XG4gICAgICAgIE51bWJlckxpdGVyYWw6IGZ1bmN0aW9uKG5vZGUsIHBhcmVudCl7XG4gICAgICAgICAgICBwYXJlbnQuX2NvbnRleHQucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ051bWJlckxpdGVyYWwnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBub2RlLnZhbHVlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBDYWxsRXhwcmVzc2lvbjogZnVuY3Rpb24obm9kZSwgcGFyZW50KXtcbiAgICAgICAgICAgIHZhciBleHByZXNzaW9uID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdDYWxsRXhwcmVzc2lvbicsXG4gICAgICAgICAgICAgICAgY2FsbGVlOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdJZGVudGlmaWVyJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbm9kZS5uYW1lXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhcmd1bWVudHM6IFtdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlLl9jb250ZXh0ID0gZXhwcmVzc2lvbi5hcmd1bWVudHM7XG4gICAgICAgICAgICBpZiAocGFyZW50LnR5cGUgIT09ICdDYWxsRXhwcmVzc2lvbicpIHtcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnRXhwcmVzc2lvblN0YXRlbWVudCcsXG4gICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IGV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhcmVudC5fY29udGV4dC5wdXNoKGV4cHJlc3Npb24pO1xuICAgICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiBuZXdBc3Q7XG59XG5cblxuZnVuY3Rpb24gY29kZUdlbmVyYXRvciAobm9kZSkge1xuICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ1Byb2dyYW1tJzpcbiAgICAgICAgICAgIHJldHVybiBub2RlLmJvZHkubWFwKGNvZGVHZW5lcmF0b3IpLmpvaW4oJ1xcbicpO1xuICAgICAgICBjYXNlICdFeHByZXNzaW9uU3RhdGVtZW50JzpcbiAgICAgICAgICAgIHJldHVybiBjb2RlR2VuZXJhdG9yKG5vZGUuZXhwcmVzc2lvbikgKyAnOyc7XG4gICAgICAgIGNhc2UgJ0NhbGxFeHByZXNzaW9uJzpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgY29kZUdlbmVyYXRvcihub2RlLmNhbGxlZSkgKyAnKCcgKyBub2RlLmFyZ3VtZW50cy5tYXAoY29kZUdlbmVyYXRvcikuam9pbignLCAnKSArICcpJ1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgY2FzZSAnSWRlbnRpZmllcic6XG4gICAgICAgICAgICByZXR1cm4gbm9kZS5uYW1lO1xuICAgICAgICAvLyBGb3IgYE51bWJlckxpdGVyYWxzYCB3ZSdsbCBqdXN0IHJldHVybiB0aGUgYG5vZGVgJ3MgdmFsdWUuXG4gICAgICAgIGNhc2UgJ051bWJlckxpdGVyYWwnOlxuICAgICAgICAgIHJldHVybiBub2RlLnZhbHVlO1xuXG4gICAgICAgIC8vIEFuZCBpZiB3ZSBoYXZlbid0IHJlY29nbml6ZWQgdGhlIG5vZGUsIHdlJ2xsIHRocm93IGFuIGVycm9yLlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3Iobm9kZS50eXBlKTtcbiAgICB9XG59XG5cblxuLyoqXG4gKiBydW50aW1lIGhlbHBlclxuICovXG5jb25zdCBydW50aW1lID0ge1xuICAgIG9wZXJhdG9yOiB7XG4gICAgICAgICcrJyAocDEsIHAyKSB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHAxKSArIE51bWJlcihwMik7XG4gICAgICAgIH0sXG4gICAgICAgICctJyAocDEsIHAyKSB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHAxKSAtIE51bWJlcihwMik7XG4gICAgICAgIH0sXG4gICAgICAgICcqJyAocDEsIHAyKSB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHAxKSAqIE51bWJlcihwMik7XG4gICAgICAgIH0sXG4gICAgICAgICcvJyAocDEsIHAyKSB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHAxKSAvIE51bWJlcihwMik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQHByaXZhdGUgaGVscGVyIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIG9uZU9mICh2YWwsIGFycj1bXSkge1xuICAgIGxldCBpc01hdGNoID0gZmFsc2U7XG4gICAgYXJyLmZvckVhY2goZnVuY3Rpb24oa2V5KXtcbiAgICAgICAgaWYgKHZhbCA9PSBrZXkpIHtcbiAgICAgICAgICAgIGlzTWF0Y2ggPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiBpc01hdGNoO1xufVxuXG4vKipcbiAqIOWFqOWxgOS4iuS4i+aWh1xuICovXG5jb25zdCBnbG9iYWxDb250ZXh0ID0gbmV3IENvbnRleHQoKTtcbmxldCBjdXJyZW50Q29udGV4dCA9IGdsb2JhbENvbnRleHQ7XG5cbmNvbnN0IG9wZXJhdG9ycyA9IFsnKycsICctJywgJyonLCAnLyddO1xuXG5mdW5jdGlvbiBJbnRlcnByZXRlciAobm9kZSkge1xuICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ1Byb2dyYW1tJzpcbiAgICAgICAgICAgIHJldHVybiBJbnRlcnByZXRlcihub2RlLmJvZHlbMF0pO1xuICAgICAgICBjYXNlICdFeHByZXNzaW9uU3RhdGVtZW50Jzoge1xuICAgICAgICAgICAgcmV0dXJuIEludGVycHJldGVyKG5vZGUuZXhwcmVzc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnQ2FsbEV4cHJlc3Npb24nOntcbiAgICAgICAgICAgIGxldCBjYWxsZWUgPSBJbnRlcnByZXRlcihub2RlLmNhbGxlZSk7XG4gICAgICAgICAgICBpZiAob25lT2YoY2FsbGVlLCBvcGVyYXRvcnMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJ1bnRpbWUub3BlcmF0b3JbY2FsbGVlXShJbnRlcnByZXRlcihub2RlLmFyZ3VtZW50c1swXSksIEludGVycHJldGVyKG5vZGUuYXJndW1lbnRzWzFdKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ0lkZW50aWZpZXInOlxuICAgICAgICAgICAgcmV0dXJuIG5vZGUubmFtZTtcbiAgICAgICAgLy8gRm9yIGBOdW1iZXJMaXRlcmFsc2Agd2UnbGwganVzdCByZXR1cm4gdGhlIGBub2RlYCdzIHZhbHVlLlxuICAgICAgICBjYXNlICdOdW1iZXJMaXRlcmFsJzpcbiAgICAgICAgICByZXR1cm4gbm9kZS52YWx1ZTtcblxuICAgICAgICAvLyBBbmQgaWYgd2UgaGF2ZW4ndCByZWNvZ25pemVkIHRoZSBub2RlLCB3ZSdsbCB0aHJvdyBhbiBlcnJvci5cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihub2RlLnR5cGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChjb2RlKSB7XG4gICAgbGV0IGFwaSA9IHt9O1xuXG4gICAgbGV0IHN0YXRlID0gcHMoY29kZSk7XG5cbiAgICBsZXQgYXN0ID0gUHJvZ3JhbW0oY2FsbEV4cHJlc3Npb24oKShzdGF0ZSkpO1xuICAgIGxldCBuZXdBc3QgPSB0cmFuc2Zvcm1lcihhc3QpO1xuXG4gICAgYXBpLmNvZGUgPSBjb2RlO1xuICAgIGFwaS5zdGF0ZSA9IHN0YXRlO1xuICAgIGFwaS5hc3QgPSBhc3Q7XG4gICAgYXBpLm5ld0FzdCA9IG5ld0FzdDtcbiAgICBcbiAgICBhcGkucnVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gSW50ZXJwcmV0ZXIobmV3QXN0KTtcbiAgICB9OyAgICBcblxuICAgIHJldHVybiBhcGk7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saXNwLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 2 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ch = ch;\nexports.token = token;\nexports.ignoreWhitespace = ignoreWhitespace;\nexports.range = range;\nexports.sequence = sequence;\nexports.wsequence = wsequence;\nexports.choice = choice;\nexports.not = not;\nexports.repeat1 = repeat1;\nexports.action = action;\n/**\n * @privite\n */\n\nfunction toParser(p) {\n    return typeof p == 'string' ? token(p) : p;\n}\n\nfunction make_result(remaining, matched, ast) {\n    return {\n        remaining: remaining,\n        matched: matched,\n        ast: ast\n    };\n}\n\n/**\n * primitive parsers\n */\nfunction ch(c) {\n    return function (state) {\n        var r = state.length >= 1 && state.at(0) == c;\n        if (r) {\n            return {\n                remaining: state.advance(1),\n                matched: c,\n                ast: c\n            };\n        } else {\n            console.warn('expect ' + c + ', but get ' + state.at(0) + ' at ' + state.index + '.');\n            return false;\n        }\n    };\n}\n\nfunction token(str) {\n    return function (state) {\n        var r = state.length >= str.length && state.substring(0, str.length) == str;\n\n        if (r) {\n            return {\n                remaining: state.advance(str.length),\n                matched: str,\n                ast: str\n            };\n        } else {\n            return false;\n        }\n    };\n}\n\nfunction ignoreWhitespace(p) {\n    p = toParser(p);\n\n    return function (state) {\n        return p(state.trimLeft());\n    };\n}\n\nfunction range(lower, upper) {\n    return function (state) {\n        if (state.length < 1) {\n            return false;\n        } else {\n            var ch = state.at(0);\n            if (ch >= lower && ch <= upper) {\n                return {\n                    remaining: state.advance(1),\n                    matched: ch,\n                    ast: ch\n                };\n            } else {\n                return false;\n            }\n        }\n    };\n}\n\nfunction sequence() {\n    var parsers = [];\n    for (var i = 0; i < arguments.length; i++) {\n        parsers.push(toParser(arguments[i]));\n    }\n\n    return function (state) {\n        var ast = [];\n        var matched = '';\n        var result = {};\n        var j = 0;\n        for (j = 0; j < parsers.length; j++) {\n            var parser = parsers[j];\n            result = parser(state);\n            if (result) {\n                state = result.remaining;\n                if (result.ast != undefined) {\n                    ast.push(result.ast);\n                    matched = matched + result.matched;\n                }\n            } else {\n                break;\n            }\n        }\n        if (j == parsers.length) {\n            return make_result(result.remaining, matched, ast);\n        } else {\n            return false;\n        }\n    };\n}\n\n/**\n * Like sequence, but ignores whitespace between individual parsers.\n*/\nfunction wsequence() {\n    var parsers = [];\n    for (var i = 0; i < arguments.length; ++i) {\n        parsers.push(ignoreWhitespace(toParser(arguments[i])));\n    }\n    return sequence.apply(null, parsers);\n}\n\nfunction choice() {\n    var parsers = [];\n    for (var i = 0; i < arguments.length; ++i) {\n        parsers.push(toParser(arguments[i]));\n    }return function (state) {\n        var j;\n        var result;\n        for (j = 0; j < parsers.length; j++) {\n            var parser = parsers[j];\n            result = parser(state);\n\n            if (result) {\n                break;\n            }\n        }\n\n        if (j == parsers.length) {\n            return false;\n        }\n\n        return result;\n    };\n}\n\nfunction not(p) {\n    p = toParser(p);\n\n    return function (state) {\n        var result = false;\n        if (state.length >= 1) {\n            if (!p(state)) {\n                result = make_result(state.advance(1), state.at(0), state.at(0));\n            }\n        }\n\n        return result;\n    };\n}\n\nfunction repeat1(p) {\n    p = toParser(p);\n\n    return function (state) {\n        var ast = [];\n        var matched = '';\n        var result = p(state);\n\n        if (result) {\n            while (result) {\n                ast.push(result.ast);\n                matched = matched + result.matched;\n\n                state = result.remaining;\n                result = p(state);\n            }\n            result = make_result(state, matched, ast);\n        } else {\n            return false;\n        }\n\n        return result;\n    };\n}\n\nfunction action(p, f) {\n    p = toParser(p);\n\n    return function (state) {\n        var result = p(state);\n\n        if (result) {\n            result.ast = f(result.ast);\n        } else {\n            return false;\n        }\n\n        return result;\n    };\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFyc2VyLmpzPzI2MTciXSwibmFtZXMiOlsiY2giLCJ0b2tlbiIsImlnbm9yZVdoaXRlc3BhY2UiLCJyYW5nZSIsInNlcXVlbmNlIiwid3NlcXVlbmNlIiwiY2hvaWNlIiwibm90IiwicmVwZWF0MSIsImFjdGlvbiIsInRvUGFyc2VyIiwicCIsIm1ha2VfcmVzdWx0IiwicmVtYWluaW5nIiwibWF0Y2hlZCIsImFzdCIsImMiLCJzdGF0ZSIsInIiLCJsZW5ndGgiLCJhdCIsImFkdmFuY2UiLCJjb25zb2xlIiwid2FybiIsImluZGV4Iiwic3RyIiwic3Vic3RyaW5nIiwidHJpbUxlZnQiLCJsb3dlciIsInVwcGVyIiwicGFyc2VycyIsImkiLCJhcmd1bWVudHMiLCJwdXNoIiwicmVzdWx0IiwiaiIsInBhcnNlciIsInVuZGVmaW5lZCIsImFwcGx5IiwiZiJdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFtQmdCQSxFLEdBQUFBLEU7UUFnQkFDLEssR0FBQUEsSztRQWdCQUMsZ0IsR0FBQUEsZ0I7UUFRQUMsSyxHQUFBQSxLO1FBb0JBQyxRLEdBQUFBLFE7UUFtQ0FDLFMsR0FBQUEsUztRQVFBQyxNLEdBQUFBLE07UUF5QkFDLEcsR0FBQUEsRztRQWVBQyxPLEdBQUFBLE87UUF5QkFDLE0sR0FBQUEsTTtBQTNMaEI7Ozs7QUFJQSxTQUFTQyxRQUFULENBQW1CQyxDQUFuQixFQUFzQjtBQUNsQixXQUFPLE9BQU9BLENBQVAsSUFBYSxRQUFiLEdBQXdCVixNQUFNVSxDQUFOLENBQXhCLEdBQW1DQSxDQUExQztBQUNIOztBQUVELFNBQVNDLFdBQVQsQ0FBc0JDLFNBQXRCLEVBQWlDQyxPQUFqQyxFQUEwQ0MsR0FBMUMsRUFBK0M7QUFDM0MsV0FBTztBQUNIRixtQkFBV0EsU0FEUjtBQUVIQyxpQkFBU0EsT0FGTjtBQUdIQyxhQUFLQTtBQUhGLEtBQVA7QUFLSDs7QUFFRDs7O0FBR08sU0FBU2YsRUFBVCxDQUFhZ0IsQ0FBYixFQUFnQjtBQUNu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QU8sS0FBUDtBQUNIOztBQUVELGVBQU9tQixNQUFQO0FBQ0gsS0FuQkQ7QUFvQkg7O0FBRU0sU0FBU3pCLE1BQVQsQ0FBaUJFLENBQWpCLEVBQW9CNEIsQ0FBcEIsRUFBdUI7QUFDMUI1QixRQUFJRCxTQUFTQyxDQUFULENBQUo7O0FBRUEsV0FBTyxVQUFVTSxLQUFWLEVBQWlCO0FBQ3BCLFlBQUlpQixTQUFTdkIsRUFBRU0sS0FBRixDQUFiOztBQUVBLFlBQUlpQixNQUFKLEVBQVk7QUFDUkEsbUJBQU9uQixHQUFQLEdBQWF3QixFQUFFTCxPQUFPbkIsR0FBVCxDQUFiO0FBQ0gsU0FGRCxNQUVPO0FBQ0gsbUJBQU8sS0FBUDtBQUNIOztBQUVELGVBQU9tQixNQUFQO0FBQ0gsS0FWRDtBQVdIIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBwcml2aXRlXG4gKi9cblxuZnVuY3Rpb24gdG9QYXJzZXIgKHApIHtcbiAgICByZXR1cm4gdHlwZW9mKHApID09ICdzdHJpbmcnID8gdG9rZW4ocCkgOiBwO1xufVxuXG5mdW5jdGlvbiBtYWtlX3Jlc3VsdCAocmVtYWluaW5nLCBtYXRjaGVkLCBhc3QpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZW1haW5pbmc6IHJlbWFpbmluZyxcbiAgICAgICAgbWF0Y2hlZDogbWF0Y2hlZCxcbiAgICAgICAgYXN0OiBhc3RcbiAgICB9XG59XG5cbi8qKlxuICogcHJpbWl0aXZlIHBhcnNlcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoIChjKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICBsZXQgciA9IHN0YXRlLmxlbmd0aCA+PSAxICYmIHN0YXRlLmF0KDApID09IGM7XG4gICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJlbWFpbmluZzogc3RhdGUuYWR2YW5jZSgxKSxcbiAgICAgICAgICAgICAgICBtYXRjaGVkOiBjLFxuICAgICAgICAgICAgICAgIGFzdDogY1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdleHBlY3QgJyArIGMgKyAnLCBidXQgZ2V0ICcgKyBzdGF0ZS5hdCgwKSArICcgYXQgJyArIHN0YXRlLmluZGV4ICsgJy4nKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRva2VuIChzdHIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIGxldCByID0gc3RhdGUubGVuZ3RoID49IHN0ci5sZW5ndGggJiYgc3RhdGUuc3Vic3RyaW5nKDAsIHN0ci5sZW5ndGgpID09IHN0cjtcblxuICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZW1haW5pbmc6IHN0YXRlLmFkdmFuY2Uoc3RyLmxlbmd0aCksXG4gICAgICAgICAgICAgICAgbWF0Y2hlZDogc3RyLFxuICAgICAgICAgICAgICAgIGFzdDogc3RyXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpZ25vcmVXaGl0ZXNwYWNlIChwKSB7XG4gICAgcCA9IHRvUGFyc2VyKHApO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICByZXR1cm4gcChzdGF0ZS50cmltTGVmdCgpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByYW5nZSAobG93ZXIsIHVwcGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICBpZiAoc3RhdGUubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNoID0gc3RhdGUuYXQoMCk7XG4gICAgICAgICAgICBpZiAoY2ggPj0gbG93ZXIgJiYgY2ggPD0gdXBwZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICByZW1haW5pbmc6IHN0YXRlLmFkdmFuY2UoMSksXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZWQ6IGNoLFxuICAgICAgICAgICAgICAgICAgICBhc3Q6IGNoXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHNlcXVlbmNlICgpIHtcbiAgICB2YXIgcGFyc2VycyA9IFtdO1xuICAgIGZvciAodmFyIGk9MDsgaTxhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcGFyc2Vycy5wdXNoKHRvUGFyc2VyKGFyZ3VtZW50c1tpXSkpXG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB2YXIgYXN0ID0gW107XG4gICAgICAgIHZhciBtYXRjaGVkID0gJyc7XG4gICAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICBmb3IgKGo9MDsgajxwYXJzZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgcGFyc2VyID0gcGFyc2Vyc1tqXTtcbiAgICAgICAgICAgIHJlc3VsdCA9IHBhcnNlcihzdGF0ZSk7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSByZXN1bHQucmVtYWluaW5nO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuYXN0ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBhc3QucHVzaChyZXN1bHQuYXN0KTtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZCA9IG1hdGNoZWQgKyByZXN1bHQubWF0Y2hlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChqID09IHBhcnNlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZV9yZXN1bHQocmVzdWx0LnJlbWFpbmluZywgbWF0Y2hlZCwgYXN0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBMaWtlIHNlcXVlbmNlLCBidXQgaWdub3JlcyB3aGl0ZXNwYWNlIGJldHdlZW4gaW5kaXZpZHVhbCBwYXJzZXJzLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiB3c2VxdWVuY2UoKSB7XG4gICAgdmFyIHBhcnNlcnMgPSBbXTtcbiAgICBmb3IodmFyIGk9MDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICBwYXJzZXJzLnB1c2goaWdub3JlV2hpdGVzcGFjZSh0b1BhcnNlcihhcmd1bWVudHNbaV0pKSk7XG4gICAgfVxuICAgIHJldHVybiBzZXF1ZW5jZS5hcHBseShudWxsLCBwYXJzZXJzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNob2ljZSAoKSB7XG4gICAgdmFyIHBhcnNlcnMgPSBbXTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgKytpKVxuICAgICAgICBwYXJzZXJzLnB1c2godG9QYXJzZXIoYXJndW1lbnRzW2ldKSk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHZhciBqO1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICBmb3IgKGo9MDsgajxwYXJzZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgcGFyc2VyID0gcGFyc2Vyc1tqXTtcbiAgICAgICAgICAgIHJlc3VsdCA9IHBhcnNlcihzdGF0ZSk7XG5cbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChqID09IHBhcnNlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vdCAocCkge1xuICAgIHAgPSB0b1BhcnNlcihwKTtcblxuICAgIHJldHVybiBmdW5jdGlvbihzdGF0ZSl7XG4gICAgICAgIGxldCByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN0YXRlLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgICAgICBpZiAoIXAoc3RhdGUpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbWFrZV9yZXN1bHQoc3RhdGUuYWR2YW5jZSgxKSwgc3RhdGUuYXQoMCksIHN0YXRlLmF0KDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVwZWF0MSAocCkge1xuICAgIHAgPSB0b1BhcnNlcihwKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIGFzdCA9IFtdO1xuICAgICAgICB2YXIgbWF0Y2hlZCA9ICcnO1xuICAgICAgICB2YXIgcmVzdWx0ID0gcChzdGF0ZSk7XG5cbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgd2hpbGUgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGFzdC5wdXNoKHJlc3VsdC5hc3QpO1xuICAgICAgICAgICAgICAgIG1hdGNoZWQgPSBtYXRjaGVkICsgcmVzdWx0Lm1hdGNoZWQ7XG5cbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHJlc3VsdC5yZW1haW5pbmc7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcChzdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQgPSBtYWtlX3Jlc3VsdChzdGF0ZSwgbWF0Y2hlZCwgYXN0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWN0aW9uIChwLCBmKSB7XG4gICAgcCA9IHRvUGFyc2VyKHApO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcChzdGF0ZSk7XG5cbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0LmFzdCA9IGYocmVzdWx0LmFzdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3BhcnNlci5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 3 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(4);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Context class\n */\nvar Context = function () {\n    function Context() {\n        var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _utils.hash)();\n\n        _classCallCheck(this, Context);\n\n        this.$scope = (0, _utils.hash)();\n        this.$parent = null;\n        this.$children = [];\n        this.$name = '__context__';\n\n        this.assign(obj);\n    }\n\n    _createClass(Context, [{\n        key: 'isContext',\n        value: function isContext() {\n            var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _utils.hash)();\n\n            if (obj.name === this.$name) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }, {\n        key: 'parent',\n        value: function parent(obj) {\n            if (obj) {\n                if (this.isContext(obj)) {\n                    this.$parent = obj;\n                } else {\n                    throw TypeError(obj);\n                }\n            } else {\n                return this.$parent;\n            }\n        }\n    }, {\n        key: 'children',\n        value: function children(obj) {\n            if (obj) {\n                if (this.isContext(obj)) {\n                    this.$children.push(obj);\n                } else {\n                    throw TypeError(obj);\n                }\n            } else {\n                return this.$children;\n            }\n        }\n    }, {\n        key: 'get',\n        value: function get(key) {\n            return this.$scope[key];\n        }\n    }, {\n        key: 'add',\n        value: function add(key, value) {\n            this.$scope[key] = value;\n        }\n    }, {\n        key: 'remove',\n        value: function remove(key) {\n            delete this.$scope[key];\n        }\n    }, {\n        key: 'assign',\n        value: function assign() {\n            var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n            this.$scope = _extends({}, obj, this.$scope);\n        }\n    }]);\n\n    return Context;\n}();\n\nexports.default = Context;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29udGV4dC5qcz8xZGI3Il0sIm5hbWVzIjpbIkNvbnRleHQiLCJvYmoiLCIkc2NvcGUiLCIkcGFyZW50IiwiJGNoaWxkcmVuIiwiJG5hbWUiLCJhc3NpZ24iLCJuYW1lIiwiaXNDb250ZXh0IiwiVHlwZUVycm9yIiwicHVzaCIsImtleSIsInZhbHVlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7Ozs7QUFFQTs7O0lBR3FCQSxPO0FBQ2pCLHVCQUF1QjtBQUFBLFlBQVhDLEdBQVcsdUVBQVAsa0JBQU87O0FBQUE7O0FBQ25CLGFBQUtDLE1BQUwsR0FBYyxrQkFBZDtBQUNBLGFBQUtDLE9BQUwsR0FBZSxJQUFmO0FBQ0EsYUFBS0MsU0FBTCxHQUFpQixFQUFqQjtBQUNBLGFBQUtDLEtBQUwsR0FBYSxhQUFiOztBQUVBLGFBQUtDLE1BQUwsQ0FBWUwsR0FBWjtBQUNIOzs7O29DQUVzQjtBQUFBLGdCQUFaQSxHQUFZLHVFQUFSLGtCQUFROztBQUNuQixnQkFBSUEsSUFBSU0sSUFBSixLQUFhLEtBQUtGLEtBQXRCLEVBQTZCO0FBQ3pCLHVCQUFPLElBQVA7QUFDSCxhQUZELE1BRU87QUFDSCx1QkFBTyxLQUFQO0FBQ0g7QUFDSjs7OytCQUVPSixHLEVBQUs7QUFDVCxnQkFBSUEsR0FBSixFQUFTO0FBQ0wsb0JBQUksS0FBS08sU0FBTCxDQUFlUCxHQUFmLENBQUosRUFBeUI7QUFDckIseUJBQUtFLE9BQUwsR0FBZUYsR0FBZjtBQUNILGlCQUZELE1BRU87QUFDSCwwQkFBTVEsVUFBVVIsR0FBVixDQUFOO0FBQ0g7QUFDSixhQU5ELE1BTU87QUFDSCx1QkFBTyxLQUFLRSxPQUFaO0FBQ0g7QUFDSjs7O2lDQUVTRixHLEVBQUs7QUFDWCxnQkFBSUEsR0FBSixFQUFTO0FBQ0wsb0JBQUksS0FBS08sU0FBTCxDQUFlUCxHQUFmLENBQUosRUFBeUI7QUFDckIseUJBQUtHLFNBQUwsQ0FBZU0sSUFBZixDQUFvQlQsR0FBcEI7QUFDSCxpQkFGRCxNQUVPO0FBQ0gsMEJBQU1RLFVBQVVSLEdBQVYsQ0FBTjtBQUNIO0FBQ0osYUFORCxNQU1PO0FBQ0gsdUJBQU8sS0FBS0csU0FBWjtBQUNIO0FBQ0o7Ozs0QkFFSU8sRyxFQUFLO0FBQ04sbUJBQU8sS0FBS1QsTUFBTCxDQUFZUyxHQUFaLENBQVA7QUFDSDs7OzRCQUVJQSxHLEVBQUtDLEssRUFBTztBQUNiLGlCQUFLVixNQUFMLENBQVlTLEdBQVosSUFBbUJDLEtBQW5CO0FBQ0g7OzsrQkFFT0QsRyxFQUFLO0FBQ1QsbUJBQU8sS0FBS1QsTUFBTCxDQUFZUyxHQUFaLENBQVA7QUFDSDs7O2lDQUVlO0FBQUEsZ0JBQVJWLEdBQVEsdUVBQUosRUFBSTs7QUFDWixpQkFBS0MsTUFBTCxnQkFDT0QsR0FEUCxFQUVPLEtBQUtDLE1BRlo7QUFJSDs7Ozs7O2tCQTNEZ0JGLE8iLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGhhc2ggfSBmcm9tICcuL3V0aWxzLmpzJztcblxuLyoqXG4gKiBDb250ZXh0IGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKG9iaj1oYXNoKCkpe1xuICAgICAgICB0aGlzLiRzY29wZSA9IGhhc2goKTtcbiAgICAgICAgdGhpcy4kcGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy4kY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgdGhpcy4kbmFtZSA9ICdfX2NvbnRleHRfXyc7XG5cbiAgICAgICAgdGhpcy5hc3NpZ24ob2JqKTtcbiAgICB9XG5cbiAgICBpc0NvbnRleHQgKG9iaj1oYXNoKCkpIHtcbiAgICAgICAgaWYgKG9iai5uYW1lID09PSB0aGlzLiRuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhcmVudCAob2JqKSB7XG4gICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ29udGV4dChvYmopKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kcGFyZW50ID0gb2JqO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3Iob2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRwYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjaGlsZHJlbiAob2JqKSB7XG4gICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ29udGV4dChvYmopKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kY2hpbGRyZW4ucHVzaChvYmopO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3Iob2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRjaGlsZHJlbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCAoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRzY29wZVtrZXldO1xuICAgIH1cblxuICAgIGFkZCAoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLiRzY29wZVtrZXldID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmVtb3ZlIChrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuJHNjb3BlW2tleV07XG4gICAgfVxuXG4gICAgYXNzaWduIChvYmo9e30pIHtcbiAgICAgICAgdGhpcy4kc2NvcGUgPSB7XG4gICAgICAgICAgICAuLi5vYmosXG4gICAgICAgICAgICAuLi50aGlzLiRzY29wZVxuICAgICAgICB9XG4gICAgfVxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2NvbnRleHQuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 4 */
/***/ function(module, exports) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.hash = hash;\n/**\n * hash\n */\nfunction hash() {\n  return Object.create(null);\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMuanM/MmZmOCJdLCJuYW1lcyI6WyJoYXNoIiwiT2JqZWN0IiwiY3JlYXRlIl0sIm1hcHBpbmdzIjoiOzs7OztRQUdnQkEsSSxHQUFBQSxJO0FBSGhCOzs7QUFHTyxTQUFTQSxJQUFULEdBQWlCO0FBQ3BCLFNBQU9DLE9BQU9DLE1BQVAsQ0FBYyxJQUFkLENBQVA7QUFDSCIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBoYXNoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNoICgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy91dGlscy5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 5 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = parseState;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar State = function () {\n    function State(input) {\n        _classCallCheck(this, State);\n\n        this.input = input;\n        this.index = 0;\n        this.matched = '';\n        this.rested = this.input;\n        this.length = this.rested.length;\n        this.pos = {\n            col: 0,\n            row: 0\n        };\n    }\n\n    _createClass(State, [{\n        key: 'advance',\n        value: function advance(num) {\n            this.index += num;\n            this.matched += this.rested.substring(0, num);\n            this.rested = this.rested.substring(num);\n            this.length = this.rested.length;\n\n            this.pos.col += num;\n\n            return this;\n        }\n    }, {\n        key: 'trimLeft',\n        value: function trimLeft() {\n            var s = this.rested;\n            var m = s.match(/^\\s+/);\n\n            if (m) {\n                this.advance(m[0].length);\n                this.pos.col += m[0].length;\n            }\n\n            return this;\n        }\n    }, {\n        key: 'posMsg',\n        value: function posMsg() {\n            return 'col: ' + this.pos.col + ', row: ' + this.pos.row;\n        }\n    }, {\n        key: 'substring',\n        value: function substring(start, length) {\n            return this.rested.substring(start, length);\n        }\n    }, {\n        key: 'at',\n        value: function at(index) {\n            return this.rested.charAt(index);\n        }\n    }]);\n\n    return State;\n}();\n\nfunction parseState(str) {\n    return new State(str);\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGUuanM/NTc5YyJdLCJuYW1lcyI6WyJwYXJzZVN0YXRlIiwiU3RhdGUiLCJpbnB1dCIsImluZGV4IiwibWF0Y2hlZCIsInJlc3RlZCIsImxlbmd0aCIsInBvcyIsImNvbCIsInJvdyIsIm51bSIsInN1YnN0cmluZyIsInMiLCJtIiwibWF0Y2giLCJhZHZhbmNlIiwic3RhcnQiLCJjaGFyQXQiLCJzdHIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O2tCQWlEd0JBLFU7Ozs7SUFqRGxCQyxLO0FBQ0YsbUJBQVlDLEtBQVosRUFBa0I7QUFBQTs7QUFDZCxhQUFLQSxLQUFMLEdBQWFBLEtBQWI7QUFDQSxhQUFLQyxLQUFMLEdBQWEsQ0FBYjtBQUNBLGFBQUtDLE9BQUwsR0FBZSxFQUFmO0FBQ0EsYUFBS0MsTUFBTCxHQUFjLEtBQUtILEtBQW5CO0FBQ0EsYUFBS0ksTUFBTCxHQUFjLEtBQUtELE1BQUwsQ0FBWUMsTUFBMUI7QUFDQSxhQUFLQyxHQUFMLEdBQVc7QUFDUEMsaUJBQUssQ0FERTtBQUVQQyxpQkFBSztBQUZFLFNBQVg7QUFJSDs7OztnQ0FFUUMsRyxFQUFLO0FBQ1YsaUJBQUtQLEtBQUwsSUFBY08sR0FBZDtBQUNBLGlCQUFLTixPQUFMLElBQWdCLEtBQUtDLE1BQUwsQ0FBWU0sU0FBWixDQUFzQixDQUF0QixFQUF5QkQsR0FBekIsQ0FBaEI7QUFDQSxpQkFBS0wsTUFBTCxHQUFjLEtBQUtBLE1BQUwsQ0FBWU0sU0FBWixDQUFzQkQsR0FBdEIsQ0FBZDtBQUNBLGlCQUFLSixNQUFMLEdBQWMsS0FBS0QsTUFBTCxDQUFZQyxNQUExQjs7QUFFQSxpQkFBS0MsR0FBTCxDQUFTQyxHQUFULElBQWdCRSxHQUFoQjs7QUFFQSxtQkFBTyxJQUFQO0FBQ0g7OzttQ0FFVztBQUNSLGdCQUFJRSxJQUFJLEtBQUtQLE1BQWI7QUFDQSxnQkFBSVEsSUFBSUQsRUFBRUUsS0FBRixDQUFRLE1BQVIsQ0FBUjs7QUFFQSxnQkFBSUQsQ0FBSixFQUFPO0FBQ0gscUJBQUtFLE9BQUwsQ0FBYUYsRUFBRSxDQUFGLEVBQUtQLE1BQWxCO0FBQ0EscUJBQUtDLEdBQUwsQ0FBU0MsR0FBVCxJQUFnQkssRUFBRSxDQUFGLEVBQUtQLE1BQXJCO0FBQ0g7O0FBRUQsbUJBQU8sSUFBUDtBQUNIOzs7aUNBRVM7QUFDTixtQkFBTyxVQUFVLEtBQUtDLEdBQUwsQ0FBU0MsR0FBbkIsR0FBeUIsU0FBekIsR0FBcUMsS0FBS0QsR0FBTCxDQUFTRSxHQUFyRDtBQUNIOzs7a0NBRVVPLEssRUFBT1YsTSxFQUFRO0FBQ3RCLG1CQUFPLEtBQUtELE1BQUwsQ0FBWU0sU0FBWixDQUFzQkssS0FBdEIsRUFBNkJWLE1BQTdCLENBQVA7QUFDSDs7OzJCQUVHSCxLLEVBQU87QUFDUCxtQkFBTyxLQUFLRSxNQUFMLENBQVlZLE1BQVosQ0FBbUJkLEtBQW5CLENBQVA7QUFDSDs7Ozs7O0FBR1UsU0FBU0gsVUFBVCxDQUFxQmtCLEdBQXJCLEVBQTBCO0FBQ3JDLFdBQU8sSUFBSWpCLEtBQUosQ0FBVWlCLEdBQVYsQ0FBUDtBQUNIIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBTdGF0ZSB7XG4gICAgY29uc3RydWN0b3IoaW5wdXQpe1xuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgICAgICB0aGlzLm1hdGNoZWQgPSAnJztcbiAgICAgICAgdGhpcy5yZXN0ZWQgPSB0aGlzLmlucHV0O1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMucmVzdGVkLmxlbmd0aDtcbiAgICAgICAgdGhpcy5wb3MgPSB7XG4gICAgICAgICAgICBjb2w6IDAsXG4gICAgICAgICAgICByb3c6IDBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkdmFuY2UgKG51bSkge1xuICAgICAgICB0aGlzLmluZGV4ICs9IG51bTtcbiAgICAgICAgdGhpcy5tYXRjaGVkICs9IHRoaXMucmVzdGVkLnN1YnN0cmluZygwLCBudW0pO1xuICAgICAgICB0aGlzLnJlc3RlZCA9IHRoaXMucmVzdGVkLnN1YnN0cmluZyhudW0pO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMucmVzdGVkLmxlbmd0aDtcblxuICAgICAgICB0aGlzLnBvcy5jb2wgKz0gbnVtO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRyaW1MZWZ0ICgpIHtcbiAgICAgICAgbGV0IHMgPSB0aGlzLnJlc3RlZDtcbiAgICAgICAgbGV0IG0gPSBzLm1hdGNoKC9eXFxzKy8pO1xuXG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UobVswXS5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5wb3MuY29sICs9IG1bMF0ubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcG9zTXNnICgpIHtcbiAgICAgICAgcmV0dXJuICdjb2w6ICcgKyB0aGlzLnBvcy5jb2wgKyAnLCByb3c6ICcgKyB0aGlzLnBvcy5yb3c7XG4gICAgfVxuXG4gICAgc3Vic3RyaW5nIChzdGFydCwgbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3RlZC5zdWJzdHJpbmcoc3RhcnQsIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgYXQgKGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3RlZC5jaGFyQXQoaW5kZXgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGFyc2VTdGF0ZSAoc3RyKSB7XG4gICAgcmV0dXJuIG5ldyBTdGF0ZShzdHIpO1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3N0YXRlLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }
/******/ ]);