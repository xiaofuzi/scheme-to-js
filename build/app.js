/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _lisp = __webpack_require__(1);\n\nvar _lisp2 = _interopRequireDefault(_lisp);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Interpreter = (0, _lisp2.default)('(+ (/ 8 2) (* 3 3))');\nconsole.log('Lisp>: ', Interpreter.run());//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAuanM/ZDhlZSJdLCJuYW1lcyI6WyJJbnRlcnByZXRlciIsImNvbnNvbGUiLCJsb2ciLCJydW4iXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7OztBQUVBLElBQUlBLGNBQWMsb0JBQUsscUJBQUwsQ0FBbEI7QUFDQUMsUUFBUUMsR0FBUixDQUFZLFNBQVosRUFBdUJGLFlBQVlHLEdBQVosRUFBdkIiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMaXNwIGZyb20gJy4vc3JjL2xpc3AuanMnO1xuXG5sZXQgSW50ZXJwcmV0ZXIgPSBMaXNwKCcoKyAoLyA4IDIpICgqIDMgMykpJyk7XG5jb25zb2xlLmxvZygnTGlzcD46ICcsIEludGVycHJldGVyLnJ1bigpKTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (code) {\n    var api = {};\n\n    var state = (0, _state2.default)(code);\n\n    var ast = Programm(callExpression()(state));\n    var newAst = transformer(ast);\n\n    api.code = code;\n    api.state = state;\n    api.ast = ast;\n    api.newAst = newAst;\n\n    api.run = function () {\n        return Interpreter(newAst);\n    };\n\n    return api;\n};\n\nvar _parser = __webpack_require__(2);\n\nvar _context = __webpack_require__(3);\n\nvar _context2 = _interopRequireDefault(_context);\n\nvar _state = __webpack_require__(5);\n\nvar _state2 = _interopRequireDefault(_state);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * atom parser\n */\nfunction leftParen() {\n    return (0, _parser.ch)('(');\n}\n\nfunction rightParen() {\n    return (0, _parser.ch)(')');\n}\n\nfunction int() {\n    return (0, _parser.action)((0, _parser.range)('0', '9'), function (ast) {\n        return {\n            type: 'NumberLiteral',\n            value: ast\n        };\n    });\n}\n\nfunction identifer() {\n    var result = (0, _parser.repeat1)((0, _parser.choice)((0, _parser.range)('a', 'z'), (0, _parser.range)('A', 'Z')));\n    return (0, _parser.action)(result, function (ast) {\n        return ast.join('');\n    });\n}\n\n/**\n * simple expression (add 2 4)\n */\nfunction atomCallExpression() {\n    return function (state) {\n        var result = (0, _parser.wsequence)(leftParen(), (0, _parser.choice)(identifer(), operator()), int(), int(), rightParen())(state);\n        return {\n            remaining: result.remaining,\n            matched: result.matched,\n            ast: {\n                type: 'CallExpression',\n                name: result.ast[1],\n                params: [result.ast[2], result.ast[3]]\n            }\n        };\n    };\n}\n\nfunction callExpression() {\n    return function (state) {\n        var result = (0, _parser.wsequence)(leftParen(), (0, _parser.choice)(identifer(), operator()), (0, _parser.choice)(int(), atomCallExpression()), (0, _parser.choice)(int(), atomCallExpression()), rightParen())(state);\n\n        if (!result) {\n            return result;\n        }\n        return {\n            type: 'CallExpression',\n            name: result.ast[1],\n            params: [result.ast[2], result.ast[3]]\n        };\n    };\n}\n\n/**\n * 四则运算\n */\nfunction operator() {\n    return (0, _parser.choice)('+', '-', '*', '/');\n}\n\nfunction binaryExpression() {\n    return function (state) {\n        return (0, _parser.action)((0, _parser.wsequence)(leftParen(), int(), operator(), int(), rightParen()), function (ast) {\n            return {\n                type: 'BinaryExpression',\n                operator: ast[2],\n                left: ast[1],\n                right: ast[3]\n            };\n        });\n    };\n}\n\n/**\n * Program\n */\nfunction Programm(ast) {\n    return {\n        type: 'Programm',\n        body: [ast]\n    };\n}\n\nfunction traverser(ast, visitor) {\n    function traverseArray(arr, parent) {\n        arr.forEach(function (child) {\n            traverseNode(child, parent);\n        });\n    }\n\n    function traverseNode(node, parent) {\n        var method = visitor[node.type];\n        if (method) {\n            method(node, parent);\n        }\n\n        switch (node.type) {\n            case 'Programm':\n                traverseArray(node.body, node);\n                break;\n            case 'CallExpression':\n                traverseArray(node.params, node);\n                break;\n            case 'NumberLiteral':\n                break;\n            default:\n                {\n                    throw new TypeError(node.type);\n                }\n        }\n    }\n\n    traverseNode(ast, null);\n}\n\nfunction transformer(ast) {\n    var newAst = {\n        type: 'Programm',\n        body: []\n    };\n\n    ast._context = newAst.body;\n\n    traverser(ast, {\n        NumberLiteral: function NumberLiteral(node, parent) {\n            parent._context.push({\n                type: 'NumberLiteral',\n                value: node.value\n            });\n        },\n        CallExpression: function CallExpression(node, parent) {\n            var expression = {\n                type: 'CallExpression',\n                callee: {\n                    type: 'Identifier',\n                    name: node.name\n                },\n                arguments: []\n            };\n            node._context = expression.arguments;\n            if (parent.type !== 'CallExpression') {\n                expression = {\n                    type: 'ExpressionStatement',\n                    expression: expression\n                };\n            }\n\n            parent._context.push(expression);\n        }\n    });\n\n    return newAst;\n}\n\nfunction codeGenerator(node) {\n    switch (node.type) {\n        case 'Programm':\n            return node.body.map(codeGenerator).join('\\n');\n        case 'ExpressionStatement':\n            return codeGenerator(node.expression) + ';';\n        case 'CallExpression':\n            return codeGenerator(node.callee) + '(' + node.arguments.map(codeGenerator).join(', ') + ')';\n        case 'Identifier':\n            return node.name;\n        // For `NumberLiterals` we'll just return the `node`'s value.\n        case 'NumberLiteral':\n            return node.value;\n\n        // And if we haven't recognized the node, we'll throw an error.\n        default:\n            throw new TypeError(node.type);\n    }\n}\n\n/**\n * runtime helper\n */\nvar runtime = {\n    operator: {\n        '+': function _(p1, p2) {\n            return Number(p1) + Number(p2);\n        },\n        '-': function _(p1, p2) {\n            return Number(p1) - Number(p2);\n        },\n        '*': function _(p1, p2) {\n            return Number(p1) * Number(p2);\n        },\n        '/': function _(p1, p2) {\n            return Number(p1) / Number(p2);\n        }\n    }\n};\n\n/**\n * @private helper function\n */\nfunction oneOf(val) {\n    var arr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    var isMatch = false;\n    arr.forEach(function (key) {\n        if (val == key) {\n            isMatch = true;\n        }\n    });\n\n    return isMatch;\n}\n\n/**\n * 全局上下文\n */\nvar globalContext = new _context2.default();\nvar currentContext = globalContext;\n\nvar operators = ['+', '-', '*', '/'];\n\nfunction Interpreter(node) {\n    switch (node.type) {\n        case 'Programm':\n            return Interpreter(node.body[0]);\n        case 'ExpressionStatement':\n            {\n                return Interpreter(node.expression);\n            }\n        case 'CallExpression':\n            {\n                var callee = Interpreter(node.callee);\n                if (oneOf(callee, operators)) {\n                    return runtime.operator[callee](Interpreter(node.arguments[0]), Interpreter(node.arguments[1]));\n                } else {\n                    return 0;\n                }\n            }\n        case 'Identifier':\n            return node.name;\n        // For `NumberLiterals` we'll just return the `node`'s value.\n        case 'NumberLiteral':\n            return node.value;\n\n        // And if we haven't recognized the node, we'll throw an error.\n        default:\n            {\n                throw new TypeError(node.type);\n            }\n    }\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGlzcC5qcz8wMTkzIl0sIm5hbWVzIjpbImNvZGUiLCJhcGkiLCJzdGF0ZSIsImFzdCIsIlByb2dyYW1tIiwiY2FsbEV4cHJlc3Npb24iLCJuZXdBc3QiLCJ0cmFuc2Zvcm1lciIsInJ1biIsIkludGVycHJldGVyIiwibGVmdFBhcmVuIiwicmlnaHRQYXJlbiIsImludCIsInR5cGUiLCJ2YWx1ZSIsImlkZW50aWZlciIsInJlc3VsdCIsImpvaW4iLCJhdG9tQ2FsbEV4cHJlc3Npb24iLCJvcGVyYXRvciIsInJlbWFpbmluZyIsIm1hdGNoZWQiLCJuYW1lIiwicGFyYW1zIiwiYmluYXJ5RXhwcmVzc2lvbiIsImxlZnQiLCJyaWdodCIsImJvZHkiLCJ0cmF2ZXJzZXIiLCJ2aXNpdG9yIiwidHJhdmVyc2VBcnJheSIsImFyciIsInBhcmVudCIsImZvckVhY2giLCJjaGlsZCIsInRyYXZlcnNlTm9kZSIsIm5vZGUiLCJtZXRob2QiLCJUeXBlRXJyb3IiLCJfY29udGV4dCIsIk51bWJlckxpdGVyYWwiLCJwdXNoIiwiQ2FsbEV4cHJlc3Npb24iLCJleHByZXNzaW9uIiwiY2FsbGVlIiwiYXJndW1lbnRzIiwiY29kZUdlbmVyYXRvciIsIm1hcCIsInJ1bnRpbWUiLCJwMSIsInAyIiwiTnVtYmVyIiwib25lT2YiLCJ2YWwiLCJpc01hdGNoIiwia2V5IiwiZ2xvYmFsQ29udGV4dCIsImN1cnJlbnRDb250ZXh0Iiwib3BlcmF0b3JzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7a0JBK1RlLFVBQVVBLElBQVYsRUFBZ0I7QUFDM0IsUUFBSUMsTUFBTSxFQUFWOztBQUVBLFFBQUlDLFFBQVEscUJBQUdGLElBQUgsQ0FBWjs7QUFFQSxRQUFJRyxNQUFNQyxTQUFTQyxpQkFBaUJILEtBQWpCLENBQVQsQ0FBVjtBQUNBLFFBQUlJLFNBQVNDLFlBQVlKLEdBQVosQ0FBYjs7QUFFQUYsUUFBSUQsSUFBSixHQUFXQSxJQUFYO0FBQ0FDLFFBQUlDLEtBQUos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dEI7QUFDQSxJQUFJQyxpQkFBaUJELGFBQXJCOztBQUVBLElBQU1FLFlBQVksQ0FBQyxHQUFELEVBQU0sR0FBTixFQUFXLEdBQVgsRUFBZ0IsR0FBaEIsQ0FBbEI7O0FBRUEsU0FBU2pELFdBQVQsQ0FBc0IyQixJQUF0QixFQUE0QjtBQUN4QixZQUFRQSxLQUFLdkIsSUFBYjtBQUNJLGFBQUssVUFBTDtBQUNJLG1CQUFPSixZQUFZMkIsS0FBS1QsSUFBTCxDQUFVLENBQVYsQ0FBWixDQUFQO0FBQ0osYUFBSyxxQkFBTDtBQUE0QjtBQUN4Qix1QkFBT2xCLFlBQVkyQixLQUFLTyxVQUFqQixDQUFQO0FBQ0g7QUFDRCxhQUFLLGdCQUFMO0FBQXNCO0FBQ2xCLG9CQUFJQyxTQUFTbkMsWUFBWTJCLEtBQUtRLE1BQWpCLENBQWI7QUFDQSxvQkFBSVEsTUFBTVIsTUFBTixFQUFjYyxTQUFkLENBQUosRUFBOEI7QUFDMUIsMkJBQU9WLFFBQVE3QixRQUFSLENBQWlCeUIsTUFBakIsRUFBeUJuQyxZQUFZMkIsS0FBS1MsU0FBTCxDQUFlLENBQWYsQ0FBWixDQUF6QixFQUF5RHBDLFlBQVkyQixLQUFLUyxTQUFMLENBQWUsQ0FBZixDQUFaLENBQXpELENBQVA7QUFDSCxpQkFGRCxNQUVPO0FBQ0gsMkJBQU8sQ0FBUDtBQUNIO0FBQ0o7QUFDRCxhQUFLLFlBQUw7QUFDSSxtQkFBT1QsS0FBS2QsSUFBWjtBQUNKO0FBQ0EsYUFBSyxlQUFMO0FBQ0UsbUJBQU9jLEtBQUt0QixLQUFaOztBQUVGO0FBQ0E7QUFBUztBQUNMLHNCQUFNLElBQUl3QixTQUFKLENBQWNGLEtBQUt2QixJQUFuQixDQUFOO0FBQ0g7QUF2Qkw7QUF5QkgiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gICAgY2gsIHRva2VuLFxuICAgIHJhbmdlLFxuICAgIHNlcXVlbmNlLFxuICAgIHdzZXF1ZW5jZSxcbiAgICBjaG9pY2UsXG4gICAgcmVwZWF0MSxcbiAgICBhY3Rpb25cbn0gZnJvbSAnLi9wYXJzZXIuanMnO1xuXG5pbXBvcnQgQ29udGV4dCBmcm9tICcuL2NvbnRleHQuanMnO1xuXG5pbXBvcnQgcHMgZnJvbSAnLi9zdGF0ZS5qcyc7XG5cbi8qKlxuICogYXRvbSBwYXJzZXJcbiAqL1xuZnVuY3Rpb24gbGVmdFBhcmVuICgpIHtcbiAgICByZXR1cm4gY2goJygnKTtcbn1cblxuZnVuY3Rpb24gcmlnaHRQYXJlbiAoKSB7XG4gICAgcmV0dXJuIGNoKCcpJyk7XG59XG5cbmZ1bmN0aW9uIGludCAoKSB7XG4gICAgcmV0dXJuIGFjdGlvbihyYW5nZSgnMCcsICc5JyksIGZ1bmN0aW9uKGFzdCl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnTnVtYmVyTGl0ZXJhbCcsXG4gICAgICAgICAgICB2YWx1ZTogYXN0XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gaWRlbnRpZmVyICgpIHtcbiAgICB2YXIgcmVzdWx0ID0gcmVwZWF0MShcbiAgICAgICAgICAgICAgICBjaG9pY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZSgnYScsICd6JyksXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZSgnQScsICdaJylcbiAgICAgICAgICAgICAgICAgICAgKSAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIClcbiAgICByZXR1cm4gYWN0aW9uKHJlc3VsdCwgZnVuY3Rpb24oYXN0KXtcbiAgICAgICAgcmV0dXJuIGFzdC5qb2luKCcnKTtcbiAgICB9KVxufVxuXG4vKipcbiAqIHNpbXBsZSBleHByZXNzaW9uIChhZGQgMiA0KVxuICovXG5mdW5jdGlvbiBhdG9tQ2FsbEV4cHJlc3Npb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHdzZXF1ZW5jZShcbiAgICAgICAgICAgICAgICBsZWZ0UGFyZW4oKSxcbiAgICAgICAgICAgICAgICBjaG9pY2UoXG4gICAgICAgICAgICAgICAgICAgIGlkZW50aWZlcigpLFxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRvcigpXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgaW50KCksXG4gICAgICAgICAgICAgICAgaW50KCksXG4gICAgICAgICAgICAgICAgcmlnaHRQYXJlbigpXG4gICAgICAgICAgICApKHN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlbWFpbmluZzogcmVzdWx0LnJlbWFpbmluZyxcbiAgICAgICAgICAgIG1hdGNoZWQ6IHJlc3VsdC5tYXRjaGVkLFxuICAgICAgICAgICAgYXN0OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ0NhbGxFeHByZXNzaW9uJyxcbiAgICAgICAgICAgICAgICBuYW1lOiByZXN1bHQuYXN0WzFdLFxuICAgICAgICAgICAgICAgIHBhcmFtczogW1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXN0WzJdLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXN0WzNdICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY2FsbEV4cHJlc3Npb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHdzZXF1ZW5jZShcbiAgICAgICAgICAgICAgICBsZWZ0UGFyZW4oKSxcbiAgICAgICAgICAgICAgICBjaG9pY2UoXG4gICAgICAgICAgICAgICAgICAgIGlkZW50aWZlcigpLFxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRvcigpXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgY2hvaWNlKFxuICAgICAgICAgICAgICAgICAgICBpbnQoKSxcbiAgICAgICAgICAgICAgICAgICAgYXRvbUNhbGxFeHByZXNzaW9uKClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBjaG9pY2UoXG4gICAgICAgICAgICAgICAgICAgIGludCgpLFxuICAgICAgICAgICAgICAgICAgICBhdG9tQ2FsbEV4cHJlc3Npb24oKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHJpZ2h0UGFyZW4oKVxuICAgICAgICAgICAgKShzdGF0ZSk7XG5cbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdDYWxsRXhwcmVzc2lvbicsXG4gICAgICAgICAgICBuYW1lOiByZXN1bHQuYXN0WzFdLFxuICAgICAgICAgICAgcGFyYW1zOiBbXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hc3RbMl0sXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hc3RbM10gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgIH07XG4gICAgfVxufVxuXG4vKipcbiAqIOWbm+WImei/kOeul1xuICovXG5mdW5jdGlvbiBvcGVyYXRvciAoKSB7XG4gICAgcmV0dXJuIGNob2ljZShcbiAgICAgICAgICAgICAgICAnKycsXG4gICAgICAgICAgICAgICAgJy0nLFxuICAgICAgICAgICAgICAgICcqJyxcbiAgICAgICAgICAgICAgICAnLydcbiAgICAgICAgICAgICk7XG59XG5cbmZ1bmN0aW9uIGJpbmFyeUV4cHJlc3Npb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbihcbiAgICAgICAgICAgICAgICB3c2VxdWVuY2UoXG4gICAgICAgICAgICAgICAgICAgIGxlZnRQYXJlbigpLFxuICAgICAgICAgICAgICAgICAgICBpbnQoKSxcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IoKSxcbiAgICAgICAgICAgICAgICAgICAgaW50KCksXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0UGFyZW4oKVxuICAgICAgICAgICAgICAgICksIGZ1bmN0aW9uIChhc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdCaW5hcnlFeHByZXNzaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiBhc3RbMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBhc3RbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogYXN0WzNdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgIH1cbn1cblxuLyoqXG4gKiBQcm9ncmFtXG4gKi9cbmZ1bmN0aW9uIFByb2dyYW1tIChhc3QpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnUHJvZ3JhbW0nLFxuICAgICAgICBib2R5OiBbXG4gICAgICAgICAgICBhc3RcbiAgICAgICAgXVxuICAgIH1cbn1cblxuXG5mdW5jdGlvbiB0cmF2ZXJzZXIgKGFzdCwgdmlzaXRvcikge1xuICAgIGZ1bmN0aW9uIHRyYXZlcnNlQXJyYXkgKGFyciwgcGFyZW50KSB7XG4gICAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkKXtcbiAgICAgICAgICAgIHRyYXZlcnNlTm9kZShjaGlsZCwgcGFyZW50KTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0cmF2ZXJzZU5vZGUgKG5vZGUsIHBhcmVudCkge1xuICAgICAgICB2YXIgbWV0aG9kID0gdmlzaXRvcltub2RlLnR5cGVdO1xuICAgICAgICBpZiAobWV0aG9kKSB7XG4gICAgICAgICAgICBtZXRob2Qobm9kZSwgcGFyZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdQcm9ncmFtbSc6XG4gICAgICAgICAgICAgICAgdHJhdmVyc2VBcnJheShub2RlLmJvZHksIG5vZGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQ2FsbEV4cHJlc3Npb24nOlxuICAgICAgICAgICAgICAgIHRyYXZlcnNlQXJyYXkobm9kZS5wYXJhbXMsIG5vZGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnTnVtYmVyTGl0ZXJhbCc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihub2RlLnR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdHJhdmVyc2VOb2RlKGFzdCwgbnVsbCk7XG59XG5cbmZ1bmN0aW9uIHRyYW5zZm9ybWVyIChhc3QpIHtcbiAgICB2YXIgbmV3QXN0ID0ge1xuICAgICAgICB0eXBlOiAnUHJvZ3JhbW0nLFxuICAgICAgICBib2R5OiBbXVxuICAgIH1cblxuICAgIGFzdC5fY29udGV4dCA9IG5ld0FzdC5ib2R5O1xuXG4gICAgdHJhdmVyc2VyKGFzdCwge1xuICAgICAgICBOdW1iZXJMaXRlcmFsOiBmdW5jdGlvbihub2RlLCBwYXJlbnQpe1xuICAgICAgICAgICAgcGFyZW50Ll9jb250ZXh0LnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdOdW1iZXJMaXRlcmFsJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogbm9kZS52YWx1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgQ2FsbEV4cHJlc3Npb246IGZ1bmN0aW9uKG5vZGUsIHBhcmVudCl7XG4gICAgICAgICAgICB2YXIgZXhwcmVzc2lvbiA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnQ2FsbEV4cHJlc3Npb24nLFxuICAgICAgICAgICAgICAgIGNhbGxlZToge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnSWRlbnRpZmllcicsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5vZGUubmFtZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzOiBbXVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZS5fY29udGV4dCA9IGV4cHJlc3Npb24uYXJndW1lbnRzO1xuICAgICAgICAgICAgaWYgKHBhcmVudC50eXBlICE9PSAnQ2FsbEV4cHJlc3Npb24nKSB7XG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0V4cHJlc3Npb25TdGF0ZW1lbnQnLFxuICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBleHByZXNzaW9uXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXJlbnQuX2NvbnRleHQucHVzaChleHByZXNzaW9uKTtcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gbmV3QXN0O1xufVxuXG5cbmZ1bmN0aW9uIGNvZGVHZW5lcmF0b3IgKG5vZGUpIHtcbiAgICBzd2l0Y2ggKG5vZGUudHlwZSkge1xuICAgICAgICBjYXNlICdQcm9ncmFtbSc6XG4gICAgICAgICAgICByZXR1cm4gbm9kZS5ib2R5Lm1hcChjb2RlR2VuZXJhdG9yKS5qb2luKCdcXG4nKTtcbiAgICAgICAgY2FzZSAnRXhwcmVzc2lvblN0YXRlbWVudCc6XG4gICAgICAgICAgICByZXR1cm4gY29kZUdlbmVyYXRvcihub2RlLmV4cHJlc3Npb24pICsgJzsnO1xuICAgICAgICBjYXNlICdDYWxsRXhwcmVzc2lvbic6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIGNvZGVHZW5lcmF0b3Iobm9kZS5jYWxsZWUpICsgJygnICsgbm9kZS5hcmd1bWVudHMubWFwKGNvZGVHZW5lcmF0b3IpLmpvaW4oJywgJykgKyAnKSdcbiAgICAgICAgICAgICAgICApXG4gICAgICAgIGNhc2UgJ0lkZW50aWZpZXInOlxuICAgICAgICAgICAgcmV0dXJuIG5vZGUubmFtZTtcbiAgICAgICAgLy8gRm9yIGBOdW1iZXJMaXRlcmFsc2Agd2UnbGwganVzdCByZXR1cm4gdGhlIGBub2RlYCdzIHZhbHVlLlxuICAgICAgICBjYXNlICdOdW1iZXJMaXRlcmFsJzpcbiAgICAgICAgICByZXR1cm4gbm9kZS52YWx1ZTtcblxuICAgICAgICAvLyBBbmQgaWYgd2UgaGF2ZW4ndCByZWNvZ25pemVkIHRoZSBub2RlLCB3ZSdsbCB0aHJvdyBhbiBlcnJvci5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKG5vZGUudHlwZSk7XG4gICAgfVxufVxuXG5cbi8qKlxuICogcnVudGltZSBoZWxwZXJcbiAqL1xuY29uc3QgcnVudGltZSA9IHtcbiAgICBvcGVyYXRvcjoge1xuICAgICAgICAnKycgKHAxLCBwMikge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcihwMSkgKyBOdW1iZXIocDIpO1xuICAgICAgICB9LFxuICAgICAgICAnLScgKHAxLCBwMikge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcihwMSkgLSBOdW1iZXIocDIpO1xuICAgICAgICB9LFxuICAgICAgICAnKicgKHAxLCBwMikge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcihwMSkgKiBOdW1iZXIocDIpO1xuICAgICAgICB9LFxuICAgICAgICAnLycgKHAxLCBwMikge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcihwMSkgLyBOdW1iZXIocDIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEBwcml2YXRlIGhlbHBlciBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBvbmVPZiAodmFsLCBhcnI9W10pIHtcbiAgICBsZXQgaXNNYXRjaCA9IGZhbHNlO1xuICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uKGtleSl7XG4gICAgICAgIGlmICh2YWwgPT0ga2V5KSB7XG4gICAgICAgICAgICBpc01hdGNoID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gaXNNYXRjaDtcbn1cblxuLyoqXG4gKiDlhajlsYDkuIrkuIvmlodcbiAqL1xuY29uc3QgZ2xvYmFsQ29udGV4dCA9IG5ldyBDb250ZXh0KCk7XG5sZXQgY3VycmVudENvbnRleHQgPSBnbG9iYWxDb250ZXh0O1xuXG5jb25zdCBvcGVyYXRvcnMgPSBbJysnLCAnLScsICcqJywgJy8nXTtcblxuZnVuY3Rpb24gSW50ZXJwcmV0ZXIgKG5vZGUpIHtcbiAgICBzd2l0Y2ggKG5vZGUudHlwZSkge1xuICAgICAgICBjYXNlICdQcm9ncmFtbSc6XG4gICAgICAgICAgICByZXR1cm4gSW50ZXJwcmV0ZXIobm9kZS5ib2R5WzBdKTtcbiAgICAgICAgY2FzZSAnRXhwcmVzc2lvblN0YXRlbWVudCc6IHtcbiAgICAgICAgICAgIHJldHVybiBJbnRlcnByZXRlcihub2RlLmV4cHJlc3Npb24pO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ0NhbGxFeHByZXNzaW9uJzp7XG4gICAgICAgICAgICBsZXQgY2FsbGVlID0gSW50ZXJwcmV0ZXIobm9kZS5jYWxsZWUpO1xuICAgICAgICAgICAgaWYgKG9uZU9mKGNhbGxlZSwgb3BlcmF0b3JzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBydW50aW1lLm9wZXJhdG9yW2NhbGxlZV0oSW50ZXJwcmV0ZXIobm9kZS5hcmd1bWVudHNbMF0pLCBJbnRlcnByZXRlcihub2RlLmFyZ3VtZW50c1sxXSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXNlICdJZGVudGlmaWVyJzpcbiAgICAgICAgICAgIHJldHVybiBub2RlLm5hbWU7XG4gICAgICAgIC8vIEZvciBgTnVtYmVyTGl0ZXJhbHNgIHdlJ2xsIGp1c3QgcmV0dXJuIHRoZSBgbm9kZWAncyB2YWx1ZS5cbiAgICAgICAgY2FzZSAnTnVtYmVyTGl0ZXJhbCc6XG4gICAgICAgICAgcmV0dXJuIG5vZGUudmFsdWU7XG5cbiAgICAgICAgLy8gQW5kIGlmIHdlIGhhdmVuJ3QgcmVjb2duaXplZCB0aGUgbm9kZSwgd2UnbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3Iobm9kZS50eXBlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoY29kZSkge1xuICAgIGxldCBhcGkgPSB7fTtcblxuICAgIGxldCBzdGF0ZSA9IHBzKGNvZGUpO1xuXG4gICAgbGV0IGFzdCA9IFByb2dyYW1tKGNhbGxFeHByZXNzaW9uKCkoc3RhdGUpKTtcbiAgICBsZXQgbmV3QXN0ID0gdHJhbnNmb3JtZXIoYXN0KTtcblxuICAgIGFwaS5jb2RlID0gY29kZTtcbiAgICBhcGkuc3RhdGUgPSBzdGF0ZTtcbiAgICBhcGkuYXN0ID0gYXN0O1xuICAgIGFwaS5uZXdBc3QgPSBuZXdBc3Q7XG4gICAgXG4gICAgYXBpLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIEludGVycHJldGVyKG5ld0FzdCk7XG4gICAgfTsgICAgXG5cbiAgICByZXR1cm4gYXBpO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGlzcC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 2 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ch = ch;\nexports.token = token;\nexports.ignoreWhitespace = ignoreWhitespace;\nexports.range = range;\nexports.sequence = sequence;\nexports.wsequence = wsequence;\nexports.choice = choice;\nexports.repeat1 = repeat1;\nexports.action = action;\n/**\n * @privite\n */\n\nfunction toParser(p) {\n    return typeof p == 'string' ? token(p) : p;\n}\n\nfunction make_result(remaining, matched, ast) {\n    return {\n        remaining: remaining,\n        matched: matched,\n        ast: ast\n    };\n}\n\n/**\n * primitive parsers\n */\nfunction ch(c) {\n    return function (state) {\n        var r = state.length >= 1 && state.at(0) == c;\n        if (r) {\n            return {\n                remaining: state.advance(1),\n                matched: c,\n                ast: c\n            };\n        } else {\n            console.warn('expect ' + c + ', but get ' + state.at(0) + ' at ' + state.index + '.');\n            return false;\n        }\n    };\n}\n\nfunction token(str) {\n    return function (state) {\n        var r = state.length >= str.length && state.substring(0, str.length) == str;\n\n        if (r) {\n            return {\n                remaining: state.advance(str.length),\n                matched: str,\n                ast: str\n            };\n        } else {\n            return false;\n        }\n    };\n}\n\nfunction ignoreWhitespace(p) {\n    p = toParser(p);\n\n    return function (state) {\n        return p(state.trimLeft());\n    };\n}\n\nfunction range(lower, upper) {\n    return function (state) {\n        if (state.length < 1) {\n            return false;\n        } else {\n            var ch = state.at(0);\n            if (ch >= lower && ch <= upper) {\n                return {\n                    remaining: state.advance(1),\n                    matched: ch,\n                    ast: ch\n                };\n            } else {\n                return false;\n            }\n        }\n    };\n}\n\nfunction sequence() {\n    var parsers = [];\n    for (var i = 0; i < arguments.length; i++) {\n        parsers.push(toParser(arguments[i]));\n    }\n\n    return function (state) {\n        var ast = [];\n        var matched = '';\n        var result = {};\n        var j = 0;\n        for (j = 0; j < parsers.length; j++) {\n            var parser = parsers[j];\n            result = parser(state);\n            if (result) {\n                state = result.remaining;\n                if (result.ast != undefined) {\n                    ast.push(result.ast);\n                    matched = matched + result.matched;\n                }\n            } else {\n                break;\n            }\n        }\n        if (j == parsers.length) {\n            return make_result(result.remaining, matched, ast);\n        } else {\n            return false;\n        }\n    };\n}\n\n/**\n * Like sequence, but ignores whitespace between individual parsers.\n*/\nfunction wsequence() {\n    var parsers = [];\n    for (var i = 0; i < arguments.length; ++i) {\n        parsers.push(ignoreWhitespace(toParser(arguments[i])));\n    }\n    return sequence.apply(null, parsers);\n}\n\nfunction choice() {\n    var parsers = [];\n    for (var i = 0; i < arguments.length; ++i) {\n        parsers.push(toParser(arguments[i]));\n    }return function (state) {\n        var j;\n        var result;\n        for (j = 0; j < parsers.length; j++) {\n            var parser = parsers[j];\n            result = parser(state);\n\n            if (result) {\n                break;\n            }\n        }\n\n        if (j == parsers.length) {\n            return false;\n        }\n\n        return result;\n    };\n}\n\nfunction repeat1(p) {\n    p = toParser(p);\n\n    return function (state) {\n        var ast = [];\n        var matched = '';\n        var result = p(state);\n\n        if (result) {\n            while (result) {\n                ast.push(result.ast);\n                matched = matched + result.matched;\n\n                state = result.remaining;\n                result = p(state);\n            }\n            result = make_result(state, matched, ast);\n        } else {\n            return false;\n        }\n\n        return result;\n    };\n}\n\nfunction action(p, f) {\n    p = toParser(p);\n\n    return function (state) {\n        var result = p(state);\n\n        if (result) {\n            result.ast = f(result.ast);\n        } else {\n            return false;\n        }\n\n        return result;\n    };\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFyc2VyLmpzPzI2MTciXSwibmFtZXMiOlsiY2giLCJ0b2tlbiIsImlnbm9yZVdoaXRlc3BhY2UiLCJyYW5nZSIsInNlcXVlbmNlIiwid3NlcXVlbmNlIiwiY2hvaWNlIiwicmVwZWF0MSIsImFjdGlvbiIsInRvUGFyc2VyIiwicCIsIm1ha2VfcmVzdWx0IiwicmVtYWluaW5nIiwibWF0Y2hlZCIsImFzdCIsImMiLCJzdGF0ZSIsInIiLCJsZW5ndGgiLCJhdCIsImFkdmFuY2UiLCJjb25zb2xlIiwid2FybiIsImluZGV4Iiwic3RyIiwic3Vic3RyaW5nIiwidHJpbUxlZnQiLCJsb3dlciIsInVwcGVyIiwicGFyc2VycyIsImkiLCJhcmd1bWVudHMiLCJwdXNoIiwicmVzdWx0IiwiaiIsInBhcnNlciIsInVuZGVmaW5lZCIsImFwcGx5IiwiZiJdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFtQmdCQSxFLEdBQUFBLEU7UUFnQkFDLEssR0FBQUEsSztRQWdCQUMsZ0IsR0FBQUEsZ0I7UUFRQUMsSyxHQUFBQSxLO1FBb0JBQyxRLEdBQUFBLFE7UUFtQ0FDLFMsR0FBQUEsUztRQVFBQyxNLEdBQUFBLE07UUF5QkFDLE8sR0FBQUEsTztRQXlCQUMsTSxHQUFBQSxNO0FBNUtoQjs7OztBQUlBLFNBQVNDLFFBQVQsQ0FBbUJDLENBQW5CLEVBQXNCO0FBQ2xCLFdBQU8sT0FBT0EsQ0FBUCxJQUFhLFFBQWIsR0FBd0JULE1BQU1TLENBQU4sQ0FBeEIsR0FBbUNBLENBQTFDO0FBQ0g7O0FBRUQsU0FBU0MsV0FBVCxDQUFzQkMsU0FBdEIsRUFBaUNDLE9BQWpDLEVBQTBDQyxHQUExQyxFQUErQztBQUMzQyxXQUFPO0FBQ0hGLG1CQUFXQSxTQURSO0FBRUhDLGlCQUFTQSxPQUZOO0FBR0hDLGFBQUtBO0FBSEYsS0FBUDtBQUtIOztBQUVEOzs7QUFHTyxTQUFTZCxFQUFULENBQWFlLENBQWIsRUFBZ0I7QUFDbkIsV0FBTyxVQUFVQyxLQUFWLEVBQWlC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aXZpdGVcbiAqL1xuXG5mdW5jdGlvbiB0b1BhcnNlciAocCkge1xuICAgIHJldHVybiB0eXBlb2YocCkgPT0gJ3N0cmluZycgPyB0b2tlbihwKSA6IHA7XG59XG5cbmZ1bmN0aW9uIG1ha2VfcmVzdWx0IChyZW1haW5pbmcsIG1hdGNoZWQsIGFzdCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlbWFpbmluZzogcmVtYWluaW5nLFxuICAgICAgICBtYXRjaGVkOiBtYXRjaGVkLFxuICAgICAgICBhc3Q6IGFzdFxuICAgIH1cbn1cblxuLyoqXG4gKiBwcmltaXRpdmUgcGFyc2Vyc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY2ggKGMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIGxldCByID0gc3RhdGUubGVuZ3RoID49IDEgJiYgc3RhdGUuYXQoMCkgPT0gYztcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcmVtYWluaW5nOiBzdGF0ZS5hZHZhbmNlKDEpLFxuICAgICAgICAgICAgICAgIG1hdGNoZWQ6IGMsXG4gICAgICAgICAgICAgICAgYXN0OiBjXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ2V4cGVjdCAnICsgYyArICcsIGJ1dCBnZXQgJyArIHN0YXRlLmF0KDApICsgJyBhdCAnICsgc3RhdGUuaW5kZXggKyAnLicpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9rZW4gKHN0cikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgbGV0IHIgPSBzdGF0ZS5sZW5ndGggPj0gc3RyLmxlbmd0aCAmJiBzdGF0ZS5zdWJzdHJpbmcoMCwgc3RyLmxlbmd0aCkgPT0gc3RyO1xuXG4gICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJlbWFpbmluZzogc3RhdGUuYWR2YW5jZShzdHIubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICBtYXRjaGVkOiBzdHIsXG4gICAgICAgICAgICAgICAgYXN0OiBzdHJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlnbm9yZVdoaXRlc3BhY2UgKHApIHtcbiAgICBwID0gdG9QYXJzZXIocCk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHJldHVybiBwKHN0YXRlLnRyaW1MZWZ0KCkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlIChsb3dlciwgdXBwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIGlmIChzdGF0ZS5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgY2ggPSBzdGF0ZS5hdCgwKTtcbiAgICAgICAgICAgIGlmIChjaCA+PSBsb3dlciAmJiBjaCA8PSB1cHBlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJlbWFpbmluZzogc3RhdGUuYWR2YW5jZSgxKSxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZDogY2gsXG4gICAgICAgICAgICAgICAgICAgIGFzdDogY2hcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gc2VxdWVuY2UgKCkge1xuICAgIHZhciBwYXJzZXJzID0gW107XG4gICAgZm9yICh2YXIgaT0wOyBpPGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBwYXJzZXJzLnB1c2godG9QYXJzZXIoYXJndW1lbnRzW2ldKSlcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHZhciBhc3QgPSBbXTtcbiAgICAgICAgdmFyIG1hdGNoZWQgPSAnJztcbiAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgICB2YXIgaiA9IDA7XG4gICAgICAgIGZvciAoaj0wOyBqPHBhcnNlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJzZXIgPSBwYXJzZXJzW2pdO1xuICAgICAgICAgICAgcmVzdWx0ID0gcGFyc2VyKHN0YXRlKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHJlc3VsdC5yZW1haW5pbmc7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5hc3QgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzdC5wdXNoKHJlc3VsdC5hc3QpO1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGVkID0gbWF0Y2hlZCArIHJlc3VsdC5tYXRjaGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGogPT0gcGFyc2Vycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBtYWtlX3Jlc3VsdChyZXN1bHQucmVtYWluaW5nLCBtYXRjaGVkLCBhc3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIExpa2Ugc2VxdWVuY2UsIGJ1dCBpZ25vcmVzIHdoaXRlc3BhY2UgYmV0d2VlbiBpbmRpdmlkdWFsIHBhcnNlcnMuXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHdzZXF1ZW5jZSgpIHtcbiAgICB2YXIgcGFyc2VycyA9IFtdO1xuICAgIGZvcih2YXIgaT0wOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHBhcnNlcnMucHVzaChpZ25vcmVXaGl0ZXNwYWNlKHRvUGFyc2VyKGFyZ3VtZW50c1tpXSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcXVlbmNlLmFwcGx5KG51bGwsIHBhcnNlcnMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hvaWNlICgpIHtcbiAgICB2YXIgcGFyc2VycyA9IFtdO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyArK2kpXG4gICAgICAgIHBhcnNlcnMucHVzaCh0b1BhcnNlcihhcmd1bWVudHNbaV0pKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIGo7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIGZvciAoaj0wOyBqPHBhcnNlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJzZXIgPSBwYXJzZXJzW2pdO1xuICAgICAgICAgICAgcmVzdWx0ID0gcGFyc2VyKHN0YXRlKTtcblxuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGogPT0gcGFyc2Vycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVwZWF0MSAocCkge1xuICAgIHAgPSB0b1BhcnNlcihwKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIGFzdCA9IFtdO1xuICAgICAgICB2YXIgbWF0Y2hlZCA9ICcnO1xuICAgICAgICB2YXIgcmVzdWx0ID0gcChzdGF0ZSk7XG5cbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgd2hpbGUgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGFzdC5wdXNoKHJlc3VsdC5hc3QpO1xuICAgICAgICAgICAgICAgIG1hdGNoZWQgPSBtYXRjaGVkICsgcmVzdWx0Lm1hdGNoZWQ7XG5cbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHJlc3VsdC5yZW1haW5pbmc7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcChzdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQgPSBtYWtlX3Jlc3VsdChzdGF0ZSwgbWF0Y2hlZCwgYXN0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWN0aW9uIChwLCBmKSB7XG4gICAgcCA9IHRvUGFyc2VyKHApO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcChzdGF0ZSk7XG5cbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0LmFzdCA9IGYocmVzdWx0LmFzdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3BhcnNlci5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 3 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(4);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Context class\n */\nvar Context = function () {\n    function Context() {\n        var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _utils.hash)();\n\n        _classCallCheck(this, Context);\n\n        this.$scope = (0, _utils.hash)();\n        this.$parent = null;\n        this.$children = [];\n        this.$name = '__context__';\n\n        this.assign(obj);\n    }\n\n    _createClass(Context, [{\n        key: 'isContext',\n        value: function isContext() {\n            var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _utils.hash)();\n\n            if (obj.name === this.$name) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }, {\n        key: 'parent',\n        value: function parent(obj) {\n            if (obj) {\n                if (this.isContext(obj)) {\n                    this.$parent = obj;\n                } else {\n                    throw TypeError(obj);\n                }\n            } else {\n                return this.$parent;\n            }\n        }\n    }, {\n        key: 'children',\n        value: function children(obj) {\n            if (obj) {\n                if (this.isContext(obj)) {\n                    this.$children.push(obj);\n                } else {\n                    throw TypeError(obj);\n                }\n            } else {\n                return this.$children;\n            }\n        }\n    }, {\n        key: 'get',\n        value: function get(key) {\n            return this.$scope[key];\n        }\n    }, {\n        key: 'add',\n        value: function add(key, value) {\n            this.$scope[key] = value;\n        }\n    }, {\n        key: 'remove',\n        value: function remove(key) {\n            delete this.$scope[key];\n        }\n    }, {\n        key: 'assign',\n        value: function assign() {\n            var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n            this.$scope = _extends({}, obj, this.$scope);\n        }\n    }]);\n\n    return Context;\n}();\n\nexports.default = Context;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29udGV4dC5qcz8xZGI3Il0sIm5hbWVzIjpbIkNvbnRleHQiLCJvYmoiLCIkc2NvcGUiLCIkcGFyZW50IiwiJGNoaWxkcmVuIiwiJG5hbWUiLCJhc3NpZ24iLCJuYW1lIiwiaXNDb250ZXh0IiwiVHlwZUVycm9yIiwicHVzaCIsImtleSIsInZhbHVlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7Ozs7QUFFQTs7O0lBR3FCQSxPO0FBQ2pCLHVCQUF1QjtBQUFBLFlBQVhDLEdBQVcsdUVBQVAsa0JBQU87O0FBQUE7O0FBQ25CLGFBQUtDLE1BQUwsR0FBYyxrQkFBZDtBQUNBLGFBQUtDLE9BQUwsR0FBZSxJQUFmO0FBQ0EsYUFBS0MsU0FBTCxHQUFpQixFQUFqQjtBQUNBLGFBQUtDLEtBQUwsR0FBYSxhQUFiOztBQUVBLGFBQUtDLE1BQUwsQ0FBWUwsR0FBWjtBQUNIOzs7O29DQUVzQjtBQUFBLGdCQUFaQSxHQUFZLHVFQUFSLGtCQUFROztBQUNuQixnQkFBSUEsSUFBSU0sSUFBSixLQUFhLEtBQUtGLEtBQXRCLEVBQTZCO0FBQ3pCLHVCQUFPLElBQVA7QUFDSCxhQUZELE1BRU87QUFDSCx1QkFBTyxLQUFQO0FBQ0g7QUFDSjs7OytCQUVPSixHLEVBQUs7QUFDVCxnQkFBSUEsR0FBSixFQUFTO0FBQ0wsb0JBQUksS0FBS08sU0FBTCxDQUFlUCxHQUFmLENBQUosRUFBeUI7QUFDckIseUJBQUtFLE9BQUwsR0FBZUYsR0FBZjtBQUNILGlCQUZELE1BRU87QUFDSCwwQkFBTVEsVUFBVVIsR0FBVixDQUFOO0FBQ0g7QUFDSixhQU5ELE1BTU87QUFDSCx1QkFBTyxLQUFLRSxPQUFaO0FBQ0g7QUFDSjs7O2lDQUVTRixHLEVBQUs7QUFDWCxnQkFBSUEsR0FBSixFQUFTO0FBQ0wsb0JBQUksS0FBS08sU0FBTCxDQUFlUCxHQUFmLENBQUosRUFBeUI7QUFDckIseUJBQUtHLFNBQUwsQ0FBZU0sSUFBZixDQUFvQlQsR0FBcEI7QUFDSCxpQkFGRCxNQUVPO0FBQ0gsMEJBQU1RLFVBQVVSLEdBQVYsQ0FBTjtBQUNIO0FBQ0osYUFORCxNQU1PO0FBQ0gsdUJBQU8sS0FBS0csU0FBWjtBQUNIO0FBQ0o7Ozs0QkFFSU8sRyxFQUFLO0FBQ04sbUJBQU8sS0FBS1QsTUFBTCxDQUFZUyxHQUFaLENBQVA7QUFDSDs7OzRCQUVJQSxHLEVBQUtDLEssRUFBTztBQUNiLGlCQUFLVixNQUFMLENBQVlTLEdBQVosSUFBbUJDLEtBQW5CO0FBQ0g7OzsrQkFFT0QsRyxFQUFLO0FBQ1QsbUJBQU8sS0FBS1QsTUFBTCxDQUFZUyxHQUFaLENBQVA7QUFDSDs7O2lDQUVlO0FBQUEsZ0JBQVJWLEdBQVEsdUVBQUosRUFBSTs7QUFDWixpQkFBS0MsTUFBTCxnQkFDT0QsR0FEUCxFQUVPLEtBQUtDLE1BRlo7QUFJSDs7Ozs7O2tCQTNEZ0JGLE8iLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGhhc2ggfSBmcm9tICcuL3V0aWxzLmpzJztcblxuLyoqXG4gKiBDb250ZXh0IGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKG9iaj1oYXNoKCkpe1xuICAgICAgICB0aGlzLiRzY29wZSA9IGhhc2goKTtcbiAgICAgICAgdGhpcy4kcGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy4kY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgdGhpcy4kbmFtZSA9ICdfX2NvbnRleHRfXyc7XG5cbiAgICAgICAgdGhpcy5hc3NpZ24ob2JqKTtcbiAgICB9XG5cbiAgICBpc0NvbnRleHQgKG9iaj1oYXNoKCkpIHtcbiAgICAgICAgaWYgKG9iai5uYW1lID09PSB0aGlzLiRuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhcmVudCAob2JqKSB7XG4gICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ29udGV4dChvYmopKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kcGFyZW50ID0gb2JqO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3Iob2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRwYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjaGlsZHJlbiAob2JqKSB7XG4gICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ29udGV4dChvYmopKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kY2hpbGRyZW4ucHVzaChvYmopO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3Iob2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRjaGlsZHJlbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCAoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRzY29wZVtrZXldO1xuICAgIH1cblxuICAgIGFkZCAoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLiRzY29wZVtrZXldID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmVtb3ZlIChrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuJHNjb3BlW2tleV07XG4gICAgfVxuXG4gICAgYXNzaWduIChvYmo9e30pIHtcbiAgICAgICAgdGhpcy4kc2NvcGUgPSB7XG4gICAgICAgICAgICAuLi5vYmosXG4gICAgICAgICAgICAuLi50aGlzLiRzY29wZVxuICAgICAgICB9XG4gICAgfVxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2NvbnRleHQuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 4 */
/***/ function(module, exports) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.hash = hash;\n/**\n * hash\n */\nfunction hash() {\n  return Object.create(null);\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMuanM/MmZmOCJdLCJuYW1lcyI6WyJoYXNoIiwiT2JqZWN0IiwiY3JlYXRlIl0sIm1hcHBpbmdzIjoiOzs7OztRQUdnQkEsSSxHQUFBQSxJO0FBSGhCOzs7QUFHTyxTQUFTQSxJQUFULEdBQWlCO0FBQ3BCLFNBQU9DLE9BQU9DLE1BQVAsQ0FBYyxJQUFkLENBQVA7QUFDSCIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBoYXNoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNoICgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy91dGlscy5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 5 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = parseState;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar State = function () {\n    function State(input) {\n        _classCallCheck(this, State);\n\n        this.input = input;\n        this.index = 0;\n        this.matched = '';\n        this.rested = this.input;\n        this.length = this.rested.length;\n        this.pos = {\n            col: 0,\n            row: 0\n        };\n    }\n\n    _createClass(State, [{\n        key: 'advance',\n        value: function advance(num) {\n            this.index += num;\n            this.matched += this.rested.substring(0, num);\n            this.rested = this.rested.substring(num);\n            this.length = this.rested.length;\n\n            this.pos.col += num;\n\n            return this;\n        }\n    }, {\n        key: 'trimLeft',\n        value: function trimLeft() {\n            var s = this.rested;\n            var m = s.match(/^\\s+/);\n\n            if (m) {\n                this.advance(m[0].length);\n                this.pos.col += m[0].length;\n            }\n\n            return this;\n        }\n    }, {\n        key: 'posMsg',\n        value: function posMsg() {\n            return 'col: ' + this.pos.col + ', row: ' + this.pos.row;\n        }\n    }, {\n        key: 'substring',\n        value: function substring(start, length) {\n            return this.rested.substring(start, length);\n        }\n    }, {\n        key: 'at',\n        value: function at(index) {\n            return this.rested.charAt(index);\n        }\n    }]);\n\n    return State;\n}();\n\nfunction parseState(str) {\n    return new State(str);\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGUuanM/NTc5YyJdLCJuYW1lcyI6WyJwYXJzZVN0YXRlIiwiU3RhdGUiLCJpbnB1dCIsImluZGV4IiwibWF0Y2hlZCIsInJlc3RlZCIsImxlbmd0aCIsInBvcyIsImNvbCIsInJvdyIsIm51bSIsInN1YnN0cmluZyIsInMiLCJtIiwibWF0Y2giLCJhZHZhbmNlIiwic3RhcnQiLCJjaGFyQXQiLCJzdHIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O2tCQWlEd0JBLFU7Ozs7SUFqRGxCQyxLO0FBQ0YsbUJBQVlDLEtBQVosRUFBa0I7QUFBQTs7QUFDZCxhQUFLQSxLQUFMLEdBQWFBLEtBQWI7QUFDQSxhQUFLQyxLQUFMLEdBQWEsQ0FBYjtBQUNBLGFBQUtDLE9BQUwsR0FBZSxFQUFmO0FBQ0EsYUFBS0MsTUFBTCxHQUFjLEtBQUtILEtBQW5CO0FBQ0EsYUFBS0ksTUFBTCxHQUFjLEtBQUtELE1BQUwsQ0FBWUMsTUFBMUI7QUFDQSxhQUFLQyxHQUFMLEdBQVc7QUFDUEMsaUJBQUssQ0FERTtBQUVQQyxpQkFBSztBQUZFLFNBQVg7QUFJSDs7OztnQ0FFUUMsRyxFQUFLO0FBQ1YsaUJBQUtQLEtBQUwsSUFBY08sR0FBZDtBQUNBLGlCQUFLTixPQUFMLElBQWdCLEtBQUtDLE1BQUwsQ0FBWU0sU0FBWixDQUFzQixDQUF0QixFQUF5QkQsR0FBekIsQ0FBaEI7QUFDQSxpQkFBS0wsTUFBTCxHQUFjLEtBQUtBLE1BQUwsQ0FBWU0sU0FBWixDQUFzQkQsR0FBdEIsQ0FBZDtBQUNBLGlCQUFLSixNQUFMLEdBQWMsS0FBS0QsTUFBTCxDQUFZQyxNQUExQjs7QUFFQSxpQkFBS0MsR0FBTCxDQUFTQyxHQUFULElBQWdCRSxHQUFoQjs7QUFFQSxtQkFBTyxJQUFQO0FBQ0g7OzttQ0FFVztBQUNSLGdCQUFJRSxJQUFJLEtBQUtQLE1BQWI7QUFDQSxnQkFBSVEsSUFBSUQsRUFBRUUsS0FBRixDQUFRLE1BQVIsQ0FBUjs7QUFFQSxnQkFBSUQsQ0FBSixFQUFPO0FBQ0gscUJBQUtFLE9BQUwsQ0FBYUYsRUFBRSxDQUFGLEVBQUtQLE1BQWxCO0FBQ0EscUJBQUtDLEdBQUwsQ0FBU0MsR0FBVCxJQUFnQkssRUFBRSxDQUFGLEVBQUtQLE1BQXJCO0FBQ0g7O0FBRUQsbUJBQU8sSUFBUDtBQUNIOzs7aUNBRVM7QUFDTixtQkFBTyxVQUFVLEtBQUtDLEdBQUwsQ0FBU0MsR0FBbkIsR0FBeUIsU0FBekIsR0FBcUMsS0FBS0QsR0FBTCxDQUFTRSxHQUFyRDtBQUNIOzs7a0NBRVVPLEssRUFBT1YsTSxFQUFRO0FBQ3RCLG1CQUFPLEtBQUtELE1BQUwsQ0FBWU0sU0FBWixDQUFzQkssS0FBdEIsRUFBNkJWLE1BQTdCLENBQVA7QUFDSDs7OzJCQUVHSCxLLEVBQU87QUFDUCxtQkFBTyxLQUFLRSxNQUFMLENBQVlZLE1BQVosQ0FBbUJkLEtBQW5CLENBQVA7QUFDSDs7Ozs7O0FBR1UsU0FBU0gsVUFBVCxDQUFxQmtCLEdBQXJCLEVBQTBCO0FBQ3JDLFdBQU8sSUFBSWpCLEtBQUosQ0FBVWlCLEdBQVYsQ0FBUDtBQUNIIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBTdGF0ZSB7XG4gICAgY29uc3RydWN0b3IoaW5wdXQpe1xuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgICAgICB0aGlzLm1hdGNoZWQgPSAnJztcbiAgICAgICAgdGhpcy5yZXN0ZWQgPSB0aGlzLmlucHV0O1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMucmVzdGVkLmxlbmd0aDtcbiAgICAgICAgdGhpcy5wb3MgPSB7XG4gICAgICAgICAgICBjb2w6IDAsXG4gICAgICAgICAgICByb3c6IDBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkdmFuY2UgKG51bSkge1xuICAgICAgICB0aGlzLmluZGV4ICs9IG51bTtcbiAgICAgICAgdGhpcy5tYXRjaGVkICs9IHRoaXMucmVzdGVkLnN1YnN0cmluZygwLCBudW0pO1xuICAgICAgICB0aGlzLnJlc3RlZCA9IHRoaXMucmVzdGVkLnN1YnN0cmluZyhudW0pO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMucmVzdGVkLmxlbmd0aDtcblxuICAgICAgICB0aGlzLnBvcy5jb2wgKz0gbnVtO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRyaW1MZWZ0ICgpIHtcbiAgICAgICAgbGV0IHMgPSB0aGlzLnJlc3RlZDtcbiAgICAgICAgbGV0IG0gPSBzLm1hdGNoKC9eXFxzKy8pO1xuXG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UobVswXS5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5wb3MuY29sICs9IG1bMF0ubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcG9zTXNnICgpIHtcbiAgICAgICAgcmV0dXJuICdjb2w6ICcgKyB0aGlzLnBvcy5jb2wgKyAnLCByb3c6ICcgKyB0aGlzLnBvcy5yb3c7XG4gICAgfVxuXG4gICAgc3Vic3RyaW5nIChzdGFydCwgbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3RlZC5zdWJzdHJpbmcoc3RhcnQsIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgYXQgKGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3RlZC5jaGFyQXQoaW5kZXgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGFyc2VTdGF0ZSAoc3RyKSB7XG4gICAgcmV0dXJuIG5ldyBTdGF0ZShzdHIpO1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3N0YXRlLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }
/******/ ]);